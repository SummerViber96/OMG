window.__require=function t(e,o,n){function i(a,r){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return i(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AdManager:[function(t,e){"use strict";cc._RF.push(e,"ed94bn8D51Mt57sqqgqKgvE","AdManager"),cc.Class({extends:cc.Component,properties:{androidLink:{default:""},iosLink:{default:""},defaultLink:{default:""}},openAdUrl:function(){console.log("open"),window.androidLink=this.androidLink,window.iosLink=this.iosLink,window.defaultLink=this.defaultLink;var t="Rubeex";window.openAdUrl?(console.log(t),window.openAdUrl(t)):window.open()}}),cc._RF.pop()},{}],Game28:[function(t,e,o){"use strict";cc._RF.push(e,"f2431iArs1CVahAgy4umTnC","Game28");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shadow=null,e.shadow2=null,e.listBat=[],e.tut=null,e.camera1=null,e.camera2=null,e.uiCamera=null,e.barStar=null,e.stickNode=null,e.hand=null,e.endCard=null,e.linkToStore=null,e.phaohoa=null,e.logic=null,e.houseCarrot=null,e.houseTomato=null,e.houseCorn=null,e.sister=null,e.dad=null,e.mom=null,e.son=null,e.farmTomato=null,e.farmPatoto=null,e.farmCorn=null,e.preStar=null,e.lbStart=null,e.soundBg=null,e.soundPutIn=null,e.soundVictory=null,e.soundZee=null,e.soundUpdate=null,e.soundChicken=null,e.soundHit=null,e.soundGet=null,e.soundNhanGo=null,e.step=1,e.countStart=0,e}return i(e,t),e.prototype.start=function(){var t=this;cc.audioEngine.play(this.soundBg,!0,.5),cc.game.setFrameRate(60),cc.director.getCollisionManager().enabled=!0,this.scheduleOnce(function(){cc.tween(t.camera2).by(.5,{zoomRatio:.2}).start(),cc.tween(t.camera1).by(.5,{zoomRatio:.5}).start(),cc.tween(t.camera1.node).to(.5,{position:cc.v3(900,-300)}).start(),cc.tween(t.camera2.node).to(.5,{position:cc.v3(900,-300)}).start(),t.scheduleOnce(function(){t.houseCarrot.getChildByName("pop").active=!0},.5)},1)},e.prototype.updateHouse=function(){var t=this;this.stickNode.active=!1;var e=null;switch(this.step){case 1:e=this.houseCarrot,this.spawEnegy(this.farmPatoto),this.scheduleOnce(function(){cc.tween(t.camera1.node).by(.5,{position:cc.v3(-1200,200)}).start(),cc.tween(t.camera2.node).by(.5,{position:cc.v3(-1350,200)}).start()},1.7),this.scheduleOnce(function(){t.stickNode.position=cc.v3(-332,-41),t.stickNode.getComponent(cc.BoxCollider).enabled=!1,t.stickNode.active=!0,t.hand.active=!0;for(var e=0,o=t.farmTomato.children;e<o.length;e++)o[e].getComponent(cc.PolygonCollider).enabled=!0;t.houseTomato.getChildByName("pop").active=!0},2.2);break;case 2:e=this.houseTomato,this.spawEnegy(this.farmTomato),this.mom.setAnimation(0,"poke",!0),cc.audioEngine.play(this.soundChicken,!1,.3),this.scheduleOnce(function(){cc.tween(t.camera1.node).by(.5,{position:cc.v3(-50,-900)}).start(),cc.tween(t.camera2.node).by(.5,{position:cc.v3(180,-900)}).start(),cc.tween(t.camera2).by(.5,{zoomRatio:-.17}).start()},1.7),this.scheduleOnce(function(){t.stickNode.position=cc.v3(-471.401,-1082.157),t.stickNode.getComponent(cc.BoxCollider).enabled=!1,t.stickNode.active=!0,t.hand.active=!0,t.houseCorn.getChildByName("pop").active=!0},2.2);break;case 3:e=this.houseCorn,this.spawEnegy(this.farmCorn),this.dad.setAnimation(0,"poke",!0),this.son.setAnimation(0,"poke",!0),this.scheduleOnce(function(){cc.tween(t.camera1).by(.6,{zoomRatio:-.6}).start(),cc.tween(t.camera1.node).by(.6,{position:cc.v3(1200,1e3)}).start(),cc.tween(t.camera2.node).by(.6,{position:cc.v3(1e3,1e3)}).start()},1),this.scheduleOnce(function(){cc.tween(t.camera1).by(.6,{zoomRatio:1.1}).start(),cc.tween(t.camera2).by(.6,{zoomRatio:1.1}).start(),cc.tween(t.camera1.node).by(.6,{position:cc.v3(0,200)}).start(),cc.tween(t.camera2.node).by(.6,{position:cc.v3(0,200)}).start(),t.son.node.position=cc.v3(600,212),t.dad.node.position=cc.v3(801,212),t.sister.node.position=cc.v3(525,98),t.mom.node.position=cc.v3(876,99),t.mom.node.scale=.1,t.mom.node.scaleX=-.1,t.sister.node.scale=.12,t.sister.setAnimation(0,"poke",!0),t.mom.setAnimation(0,"poke",!0),t.dad.setAnimation(0,"poke",!0),t.son.setAnimation(0,"poke",!0),cc.audioEngine.play(t.soundZee,!1,1),t.phaohoa.active=!0,cc.audioEngine.play(t.soundVictory,!1,1),t.scheduleOnce(function(){t.endCard.active=!0,t.linkToStore.active=!0},1.2)},2)}this.step++;var o=e.children[0],n=e.children[1];cc.tween(o).to(.1,{scale:1.4}).to(.1,{scale:.5}).start(),this.scheduleOnce(function(){n.scale=.5,n.active=!0,t.sister.setAnimation(0,"poke",!0),cc.tween(n).to(.3,{scale:1.4}).to(.1,{scale:1.3}).call(function(){}).start()},.25),e.getChildByName("vfx_update").active=!0,cc.audioEngine.play(this.soundUpdate,!1,1)},e.prototype.btn_start=function(t){var e=this;t.currentTarget.getComponent(cc.Button).enabled=!1,cc.tween(this.shadow).to(.4,{opacity:0}).start(),cc.tween(this.tut.children[1]).by(.4,{opacity:-255,position:cc.v3(-100,0)}).call(function(){e.tut.active=!1}).start(),cc.tween(this.tut.children[2]).to(.4,{opacity:0}).start(),cc.tween(this.camera1).by(.8,{zoomRatio:-1.5}).start(),cc.tween(this.camera2).by(.8,{zoomRatio:-1.6}).start(),cc.tween(this.camera1.node).to(.8,{position:cc.v3(-270,-700)}).start(),cc.tween(this.camera2.node).to(.8,{position:cc.v3(-180,-700)}).start(),this.scheduleOnce(function(){e.showTut1()},.8)},e.prototype.showTut1=function(){cc.tween(this.shadow2).to(.3,{opacity:180}).start(),this.stickNode.active=!0},e.prototype.spawEnegy=function(t){var e=t.parent.convertToWorldSpaceAR(t.position),o=cc.v3(0,0);e=1==this.camera1.node.active?this.camera1.getWorldToScreenPoint(e):this.camera2.getWorldToScreenPoint(e),o=this.uiCamera.getScreenToWorldPoint(e),o=this.barStar.convertToNodeSpaceAR(o),this.createReward(this.preStar,o.add(cc.v3(0,-50)),this.barStar.position.add(cc.v3(-60,0)),this.barStar)},e.prototype.createReward=function(t,e,o,n){var i=this;this.scheduleOnce(function(){cc.audioEngine.play(i.soundNhanGo,!1,1)},.5);for(var c=function(c){var a=cc.instantiate(t),r=a.scale;a.opacity=0,n.addChild(a);var s=c%2==0?40:-40,l=c%2==0?40:-40;cc.tween(a).delay(.15*c).call(function(){cc.audioEngine.play(i.soundGet,!1,1)}).set({active:!0,scale:0,position:e,opacity:255}).parallel(cc.tween().bezierTo(.25,e,e.add(cc.v2(0,200+l*c)),e.add(cc.v2(s*c,30+l))),cc.tween(a).to(.25,{scale:r})).call(function(){}).repeat(2,cc.tween().to(.1,{scale:r+.05}).to(.1,{scale:r-.05})).call(function(){}).to(.8,{position:o}).call(function(){i.countStart++,a.children[0].active=!1,a.children[1].active=!0}).start()},a=0;a<5;a++)c(a)},e.prototype.reponsive=function(t){var e=this.node.getComponent(cc.Canvas);this.camera1.node.active=!t,this.camera2.node.active=!!t,e.fitWidth=!!t,e.fitHeight=!t,this.logic.scale=t?.35:.6,this.tut.scale=t?1:1.5,this.tut.position=t?cc.v3(-297.23,-1107.423):cc.v3(-1200,-1107.423),this.phaohoa.scale=t?1:1.5,this.endCard.scale=t?1:1.2,this.barStar.scale=t?1:1.5},e.prototype.update=function(){this.lbStart.string=this.countStart.toString();var t=cc.view.getFrameSize();t.width<t.height?this.reponsive(!0):this.reponsive(!1)},c([s(cc.Node)],e.prototype,"shadow",void 0),c([s(cc.Node)],e.prototype,"shadow2",void 0),c([s(cc.Node)],e.prototype,"listBat",void 0),c([s(cc.Node)],e.prototype,"tut",void 0),c([s(cc.Camera)],e.prototype,"camera1",void 0),c([s(cc.Camera)],e.prototype,"camera2",void 0),c([s(cc.Camera)],e.prototype,"uiCamera",void 0),c([s(cc.Node)],e.prototype,"barStar",void 0),c([s(cc.Node)],e.prototype,"stickNode",void 0),c([s(cc.Node)],e.prototype,"hand",void 0),c([s(cc.Node)],e.prototype,"endCard",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([s(cc.Node)],e.prototype,"phaohoa",void 0),c([s(cc.Node)],e.prototype,"logic",void 0),c([s(cc.Node)],e.prototype,"houseCarrot",void 0),c([s(cc.Node)],e.prototype,"houseTomato",void 0),c([s(cc.Node)],e.prototype,"houseCorn",void 0),c([s(sp.Skeleton)],e.prototype,"sister",void 0),c([s(sp.Skeleton)],e.prototype,"dad",void 0),c([s(sp.Skeleton)],e.prototype,"mom",void 0),c([s(sp.Skeleton)],e.prototype,"son",void 0),c([s(cc.Node)],e.prototype,"farmTomato",void 0),c([s(cc.Node)],e.prototype,"farmPatoto",void 0),c([s(cc.Node)],e.prototype,"farmCorn",void 0),c([s(cc.Prefab)],e.prototype,"preStar",void 0),c([s(cc.Label)],e.prototype,"lbStart",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundPutIn",void 0),c([s(cc.AudioClip)],e.prototype,"soundVictory",void 0),c([s(cc.AudioClip)],e.prototype,"soundZee",void 0),c([s(cc.AudioClip)],e.prototype,"soundUpdate",void 0),c([s(cc.AudioClip)],e.prototype,"soundChicken",void 0),c([s(cc.AudioClip)],e.prototype,"soundHit",void 0),c([s(cc.AudioClip)],e.prototype,"soundGet",void 0),c([s(cc.AudioClip)],e.prototype,"soundNhanGo",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GameApp:[function(t,e,o){"use strict";cc._RF.push(e,"c1cd7jtXVtFjqaAqdnxOder","GameApp");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundShowPop=null,e.soundClosePop=null,e.soundBg=null,e.soundWin=null,e.soundLose=null,e.tut=null,e.hand=null,e.endCard=null,e.linkToStore=null,e.camera=null,e.logo=null,e.listCus=null,e.preHotDog=null,e.preBread=null,e.tuongOt=null,e.listChao=null,e.listKhayBanhMi=null,e.listHand=null,e.soundChesse=null,e.soundWrong=null,e.fxColor=null,e.isTargetPop=null,e.isTargetCus=null,e.adChanel="Rubeex",e.countCus=0,e.arrHotDog=[null,null,null,null,null,null],e.arrBreak=[null,null,null],e.arrTuongCa=[],e.isDelaytuong=!1,e}return i(e,t),e.prototype.start=function(){"Mintegral"==this.adChanel&&window.gameReady&&window.gameReady(),this.showCus(),cc.audioEngine.play(this.soundBg,!0,1)},e.prototype.showCus=function(){var t=this,e=this.listCus.children[0];e.position=cc.v3(700,123.591),cc.tween(e).to(.8,{position:cc.v3(0,123.591)}).call(function(){e.getChildByName("pop").active=!0,t.isTargetPop=e.getChildByName("pop"),t.isTargetCus=e,t.listHand.children[0].active=!0,t.scheduleOnce(function(){cc.audioEngine.play(t.soundShowPop,!1,1)},.1)}).start()},e.prototype.successCus=function(){this.isTargetCus=null,this.isTargetPop=null},e.prototype.creatFxColor=function(t,e){var o=cc.instantiate(this.fxColor);o.parent=this.node,o.position=t,o.scale=e},e.prototype.nextCus=function(){var t=this;if(this.countCus++,3==this.countCus)this.onEndGame();else{var e=this.listCus.children[this.countCus];e.position=cc.v3(700,123.591),e.active=!0,cc.tween(e).to(.8,{position:cc.v3(0,123.591)}).call(function(){e.getChildByName("pop").active=!0,t.isTargetPop=e.getChildByName("pop"),t.isTargetCus=e,t.scheduleOnce(function(){cc.audioEngine.play(t.soundShowPop,!1,1)},.1)}).start()}},e.prototype.btn_hotDog=function(t){var e=this,o=this.checkSlotHotDog();if(console.log(o),null!=o){cc.audioEngine.play(this.soundShowPop,!1,1),this.listHand.children[0].opacity=0,this.scheduleOnce(function(){e.listHand.children[1].active=!0},.5),this.arrHotDog.length;var n=cc.instantiate(this.preHotDog);console.log(this.listChao),n.parent=this.listChao.children[o],n.position=cc.v3(0,0),n.getComponent("hotdog").value=o,this.arrHotDog[o]=n;var i=t.currentTarget.position;this.creatFxColor(i,2)}},e.prototype.checkSlotHotDog=function(){for(var t=0;t<this.arrHotDog.length;t++)if(null==this.arrHotDog[t])return t;return null},e.prototype.checkSlotBread=function(){for(var t=0;t<this.arrBreak.length;t++)if(null==this.arrBreak[t])return t;return null},e.prototype.btn_bread=function(t){var e=this,o=this.checkSlotBread();if(null!=o){cc.audioEngine.play(this.soundShowPop,!1,1);var n=cc.instantiate(this.preBread);n.parent=this.listKhayBanhMi.children[o],n.position=cc.v3(0,0),n.getComponent("preBread").value=o,this.arrBreak[o]=n,this.listHand.children[1].opacity=0,this.scheduleOnce(function(){e.listHand.children[2].active=!0},.5);var i=t.currentTarget.position;this.creatFxColor(i,2)}},e.prototype.sellBread=function(t){var e=this;if(null!=this.isTargetCus&&null!=this.isTargetPop){this.listHand.children[4].opacity=0;var o=this.arrBreak[t];this.arrBreak[t]=null;var n=this.isTargetPop.position;n=this.isTargetPop.parent.convertToWorldSpaceAR(n),n=o.parent.convertToNodeSpaceAR(n);var i=o.parent.convertToWorldSpaceAR(o.position);i=this.node.convertToNodeSpaceAR(i),cc.tween(o).to(.4,{position:n.add(cc.v3(50,0)),scale:.7}).call(function(){o.opacity=0,e.isTargetCus.getComponent("cusMission").checkBread(o)}).start(),this.creatFxColor(i,1.5)}},e.prototype.btn_tuongCa=function(){var t=this;if(!(this.isDelaytuong||this.arrBreak.length<=0)){var e=this.checkTuongCa();if(null!=e){this.isDelaytuong=!0,cc.audioEngine.play(this.soundShowPop,!1,1),this.listHand.children[3].opacity=0,this.scheduleOnce(function(){t.listHand.children[4].active=!0},1);var o=e.position.add(cc.v3(40,150));o=e.parent.convertToWorldSpaceAR(o),o=this.node.convertToNodeSpaceAR(o);var n=this.tuongOt.position,i=cc.v2((o.x+n.x)/2,(o.y+n.y)/2+100);this.tuongOt.getComponent(cc.Animation).play(),this.scheduleOnce(function(){e.getComponent("preBread").getTuongCa(),cc.audioEngine.play(t.soundChesse,!1,1)},.25),cc.tween(this.tuongOt).bezierTo(.5,cc.v2(n.x,n.y),cc.v2(i.x,i.y),cc.v2(o.x,o.y)).call(function(){}).delay(.2).call(function(){t.tuongOt.position=n,t.tuongOt.children[0].angle=0,t.isDelaytuong=!1}).start()}}},e.prototype.checkTuongCa=function(){for(var t=0;t<this.arrBreak.length;t++){var e=this.arrBreak[t];if(null!=e&&1==e.getComponent("preBread").isHotDog&&0==e.getComponent("preBread").isTuongCa)return e}return null},e.prototype.clickHotDog=function(t,e){var o=this;if(!(this.arrBreak.length<=0)){var n=this.checkBread();if(null!=n){cc.audioEngine.play(this.soundShowPop,!1,1),this.listHand.children[2].opacity=0,this.scheduleOnce(function(){o.listHand.children[3].active=!0},.5),this.arrHotDog[t]=null,n.getComponent("preBread").getHotDog();var i=e.parent.convertToWorldSpaceAR(e.position);i=this.node.convertToNodeSpaceAR(i),e.opacity=0,this.scheduleOnce(function(){e.destroy()},.1),this.creatFxColor(i,1.5)}}},e.prototype.checkBread=function(){for(var t=0;t<this.arrBreak.length;t++){var e=this.arrBreak[t];if(null!=e&&0==e.getComponent("preBread").isHotDog)return e}return null},e.prototype.onEndGame=function(){cc.audioEngine.play(this.soundWin,!1,1),this.endCard.active=!0,this.linkToStore.active=!0},e.prototype.update=function(){var t=cc.view.getFrameSize();t.width<t.height?this.reponsive(!0):this.reponsive(!1)},e.prototype.reponsive=function(t){var e=this.node.getComponent(cc.Canvas);if(this.camera.zoomRatio=1,this.endCard.scale=t?1.2:.7,this.logo.scale=t?.6:.4,e.fitHeight=!t,e.fitWidth=!!t,this.camera.node.position=cc.v3(0,-50),1==t){var o=(s=cc.view.getFrameSize()).width,n=s.height;this.camera.node.position=cc.v3(80,0);var i=Math.max(o,n)/Math.min(o,n),c=812/375,a=.05,r=1024/768;this.camera.zoomRatio=1.5,Math.abs(i-c)<a?console.log("check iphonex"):Math.abs(i-r)<a&&(this.camera.zoomRatio=1.2)}else{var s;o=(s=cc.view.getFrameSize()).width,n=s.height,i=Math.max(o,n)/Math.min(o,n),c=812/375,a=.05,r=1024/768,Math.abs(i-c)<a||Math.abs(i-r)<a&&(this.camera.zoomRatio=.95)}},c([s(cc.AudioClip)],e.prototype,"soundShowPop",void 0),c([s(cc.AudioClip)],e.prototype,"soundClosePop",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundWin",void 0),c([s(cc.AudioClip)],e.prototype,"soundLose",void 0),c([s(cc.Node)],e.prototype,"tut",void 0),c([s(cc.Node)],e.prototype,"hand",void 0),c([s(cc.Node)],e.prototype,"endCard",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([s(cc.Camera)],e.prototype,"camera",void 0),c([s(cc.Node)],e.prototype,"logo",void 0),c([s(cc.Node)],e.prototype,"listCus",void 0),c([s(cc.Prefab)],e.prototype,"preHotDog",void 0),c([s(cc.Prefab)],e.prototype,"preBread",void 0),c([s(cc.Node)],e.prototype,"tuongOt",void 0),c([s(cc.Node)],e.prototype,"listChao",void 0),c([s(cc.Node)],e.prototype,"listKhayBanhMi",void 0),c([s(cc.Node)],e.prototype,"listHand",void 0),c([s(cc.AudioClip)],e.prototype,"soundChesse",void 0),c([s(cc.AudioClip)],e.prototype,"soundWrong",void 0),c([s(cc.Prefab)],e.prototype,"fxColor",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GamePLay:[function(t,e,o){"use strict";cc._RF.push(e,"d3d22fOEbxLE5U7B91/xc7T","GamePLay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cameraNgang=null,e.cameraDoc=null,e.logo=null,e.coinBar=null,e.store=null,e.listBtn=[],e.btnPlay=null,e.mayTap=null,e.listMayChay=[],e.listCus=[],e.listPop=[],e.mc=null,e.listKhayItem=[],e.endCard=null,e.soungBg=null,e.soungUpdate=null,e.soungUpdateMay=null,e.soungTranScene=null,e.soungWin=null,e.soungChayBo=null,e.proGress1=null,e.proGress2=null,e.listIconItem=[],e.text1=null,e.text2=null,e.linkToStore=null,e.adChanel="Rubeex",e.preTouch=null,e.uiNode=null,e.countBtn=0,e.isCountCUs=0,e}return i(e,t),e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),cc.systemEvent.on("button-click",this.touchStartEvent,this),cc.audioEngine.play(this.soungBg,!0,.5),cc.tween(this.cameraNgang).delay(.8).to(.4,{zoomRatio:1.52}).delay(1).to(.4,{zoomRatio:2.5}).start(),cc.tween(this.cameraDoc).delay(.8).to(.4,{zoomRatio:1}).delay(1).to(.4,{zoomRatio:1.8}).start(),cc.audioEngine.play(this.soungChayBo,!0,1),this.scheduleOnce(function(){t.store.active=!0,t.listBtn[0].getChildByName("hand").active=!0,cc.audioEngine.play(t.soungTranScene,!1,1)},2.6),"Mintegral"==this.adChanel&&window.gameReady&&window.gameReady()},e.prototype.touchStartEvent=function(t){this.createEffTouch(t.getLocation())},e.prototype.createEffTouch=function(t){t=this.node.convertToNodeSpaceAR(t);var e=cc.instantiate(this.preTouch);e.parent=this.uiNode,e.scale=1.2,e.position=t},e.prototype.reponsive=function(t){var e=this.node.getComponent(cc.Canvas);if(e.fitWidth=!!t,e.fitHeight=!t,this.logo.scale=t?.5:.7,this.endCard.scale=t?.6:1,this.store.scale=t?.35:1,this.coinBar.scale=t?1:1.4,this.cameraDoc.node.active=!!t,this.cameraNgang.node.active=!t,1==t){var o=(s=cc.view.getFrameSize()).width,n=s.height,i=Math.max(o,n)/Math.min(o,n),c=812/375,a=.05,r=1024/768;Math.abs(i-c)<a||Math.abs(i-r)}else{var s;o=(s=cc.view.getFrameSize()).width,n=s.height,r=1024/768,i=Math.max(o,n)/Math.min(o,n),c=812/375,a=.05,Math.abs(i-c)<a||Math.abs(i-r)<a&&(this.store.scale=.8)}},e.prototype.btn_buy=function(t,e){switch(this.countBtn++,cc.audioEngine.play(this.soungUpdate,!1,1),t.currentTarget.getChildByName("num").getComponent(cc.Animation).play(),e){case"1":this.listIconItem[0].getComponent(cc.Animation).play(),this.listBtn[0].getChildByName("num").getComponent(cc.Label).string=(100*this.countBtn).toString(),this.proGress1.children[this.countBtn].active=!0,this.text1.string=(this.countBtn+1).toString()+"->"+(this.countBtn+2).toString(),3==this.countBtn&&(this.text1.string="MAX",t.currentTarget.getComponent(cc.Button).enabled=!1,this.listBtn[2].getComponent(cc.Button).enabled=!0,this.listBtn[2].getChildByName("hand").active=!0,this.listBtn[0].getChildByName("hand").active=!1);break;case"3":this.listIconItem[1].getComponent(cc.Animation).play(),this.text2.string="MAX",this.listBtn[2].getChildByName("num").getComponent(cc.Label).string="200",this.listBtn[2].getComponent(cc.Button).enabled=!1,this.listBtn[2].getChildByName("hand").active=!1,this.proGress2.children[3].active=!0,this.btnPlay.getChildByName("hand").active=!0,this.btnPlay.getComponent(cc.Button).enabled=!0}},e.prototype.btn_play=function(t){var e=this;t.currentTarget.getComponent(cc.Button).enabled=!1,this.store.getComponent(cc.Animation).play("cardclose"),this.scheduleOnce(function(){e.store.active=!1},.3),this.scheduleOnce(function(){e.mayTap.getComponent(cc.Sprite).enabled=!1,e.mayTap.getChildByName("vfx_smoke").active=!0,e.mayTap.children[0].active=!0,cc.audioEngine.play(e.soungUpdateMay,!1,1),e.scheduleOnce(function(){cc.audioEngine.play(e.soungUpdateMay,!1,1)},.15);for(var t=0,o=e.listMayChay;t<o.length;t++){var n=o[t];n.getComponent(cc.Sprite).enabled=!1,n.getChildByName("vfx_smoke").active=!0,n.children[0].active=!0}},.4),cc.tween(this.cameraDoc.node).by(.5,{position:cc.v3(170,0)}).start(),this.scheduleOnce(function(){cc.tween(e.cameraNgang.node).by(.5,{position:cc.v3(-300,-180)}).start(),cc.tween(e.cameraDoc.node).by(.5,{position:cc.v3(-770,-190)}).start()},1.2),this.scheduleOnce(function(){e.listCus[0].getChildByName("pop").getChildByName("hand").active=!0,e.listCus[0].getChildByName("pop").getComponent(cc.Button).enabled=!0},1.7)},e.prototype.btn_Cus=function(t,e){var o=this;cc.audioEngine.play(this.soungUpdate,!1,1),t.currentTarget.getComponent(cc.Button).enabled=!1;var n=null;switch(e){case"1":n=this.listCus[0],this.listMayChay[0].children[0].children[1].active=!0,this.listCus[1].getChildByName("pop").getComponent(cc.Button).enabled=!0,this.listCus[1].getChildByName("pop").getChildByName("hand").active=!0;break;case"2":n=this.listCus[1],this.listMayChay[1].children[0].children[1].active=!0,this.listCus[2].getChildByName("pop").getComponent(cc.Button).enabled=!0,this.listCus[2].getChildByName("pop").getChildByName("hand").active=!0;break;case"3":n=this.listCus[2],this.listMayChay[2].children[0].children[1].active=!0}cc.tween(n).to(.3,{opacity:0}).start(),this.isCountCUs++,3==this.isCountCUs&&(cc.tween(this.cameraNgang).to(.5,{zoomRatio:1.8}).start(),cc.tween(this.cameraNgang.node).by(.5,{position:cc.v3(300,180)}).start(),cc.tween(this.cameraDoc).to(.5,{zoomRatio:1.3}).start(),cc.tween(this.cameraDoc.node).by(.5,{position:cc.v3(650,180)}).start(),this.scheduleOnce(function(){for(var t=0,e=o.listPop;t<e.length;t++)e[t].active=!0},.5))},e.prototype.btn_wwater=function(t){var e=this;cc.tween(this.cameraDoc.node).by(1.5,{position:cc.v3(-300,50)}).start(),cc.tween(this.cameraDoc.node).delay(1.8).to(1.5,{position:cc.v3(150,0)}).start(),cc.audioEngine.play(this.soungUpdate,!1,1),this.listPop[0].getComponent(cc.Button).enabled=!1,t.currentTarget.getComponent(cc.Button).enabled=!1,this.listPop[0].getChildByName("hand").active=!1,this.mc.position=cc.v3(-209,77);var o=this.mc.children[0].getComponent(sp.Skeleton),n=this.mc.children[1].getComponent(sp.Skeleton);o.setAnimation(0,"WalkLeft",!0),n.setAnimation(0,"WalkLeft",!0),cc.tween(this.mc).to(1.5,{position:cc.v3(-534,-71)}).delay(.3).call(function(){o.setAnimation(0,"WalkUp",!0),n.setAnimation(0,"WalkUp",!0);for(var t=0,i=e.listKhayItem;t<i.length;t++)i[t].active=!0}).to(1,{position:cc.v3(-265,38)}).call(function(){o.setAnimation(0,"WalkRight",!0),n.setAnimation(0,"WalkRight",!0),e.scheduleOnce(function(){var t=e.listKhayItem[0];t.parent=e.node,t.scale=1;var o=e.listPop[0].parent.convertToWorldSpaceAR(e.listPop[0].position);o=e.node.convertToNodeSpaceAR(o).add(cc.v3(0,50)),cc.tween(t).to(.3,{position:o}).call(function(){t.active=!1,e.listPop[0].active=!1,cc.audioEngine.play(e.soungUpdateMay,!1,1)}).start()},.4),e.scheduleOnce(function(){var t=e.listKhayItem[1];t.parent=e.node,t.scale=1;var o=e.listPop[2].parent.convertToWorldSpaceAR(e.listPop[2].position);o=e.node.convertToNodeSpaceAR(o).add(cc.v3(0,50)),cc.tween(t).to(.3,{position:o}).call(function(){t.active=!1,e.listPop[2].active=!1,cc.audioEngine.play(e.soungUpdateMay,!1,1)}).start()},1),e.scheduleOnce(function(){var t=e.listKhayItem[2];t.parent=e.node,t.scale=1;var o=e.listPop[3].parent.convertToWorldSpaceAR(e.listPop[3].position);o=e.node.convertToNodeSpaceAR(o).add(cc.v3(0,50)),cc.tween(t).to(.5,{position:o}).call(function(){t.active=!1,e.listPop[3].active=!1,cc.audioEngine.play(e.soungUpdateMay,!1,1)}).start()},1)}).to(2.2,{position:cc.v3(271,-269)}).call(function(){o.setAnimation(0,"win",!0),n.node.active=!1,e.endCard.active=!0,e.linkToStore.active=!0,cc.audioEngine.play(e.soungWin,!1,1)}).start()},e.prototype.update=function(){var t=cc.view.getFrameSize();t.width<t.height?this.reponsive(!0):this.reponsive(!1)},c([s(cc.Camera)],e.prototype,"cameraNgang",void 0),c([s(cc.Camera)],e.prototype,"cameraDoc",void 0),c([s(cc.Node)],e.prototype,"logo",void 0),c([s(cc.Node)],e.prototype,"coinBar",void 0),c([s(cc.Node)],e.prototype,"store",void 0),c([s(cc.Node)],e.prototype,"listBtn",void 0),c([s(cc.Node)],e.prototype,"btnPlay",void 0),c([s(cc.Node)],e.prototype,"mayTap",void 0),c([s(cc.Node)],e.prototype,"listMayChay",void 0),c([s(cc.Node)],e.prototype,"listCus",void 0),c([s(cc.Node)],e.prototype,"listPop",void 0),c([s(cc.Node)],e.prototype,"mc",void 0),c([s(cc.Node)],e.prototype,"listKhayItem",void 0),c([s(cc.Node)],e.prototype,"endCard",void 0),c([s(cc.AudioClip)],e.prototype,"soungBg",void 0),c([s(cc.AudioClip)],e.prototype,"soungUpdate",void 0),c([s(cc.AudioClip)],e.prototype,"soungUpdateMay",void 0),c([s(cc.AudioClip)],e.prototype,"soungTranScene",void 0),c([s(cc.AudioClip)],e.prototype,"soungWin",void 0),c([s(cc.AudioClip)],e.prototype,"soungChayBo",void 0),c([s(cc.Node)],e.prototype,"proGress1",void 0),c([s(cc.Node)],e.prototype,"proGress2",void 0),c([s(cc.Node)],e.prototype,"listIconItem",void 0),c([s(cc.Label)],e.prototype,"text1",void 0),c([s(cc.Label)],e.prototype,"text2",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([s(cc.Prefab)],e.prototype,"preTouch",void 0),c([s(cc.Node)],e.prototype,"uiNode",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GamePlay2:[function(t,e,o){"use strict";cc._RF.push(e,"c5335RkK8lH15RTTkc/X1Bg","GamePlay2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cameraNgang=null,e.cameraDoc=null,e.logo=null,e.coinBar=null,e.cusFist=null,e.soundBg=null,e.soungUpdate=null,e.soungUpdateMay=null,e.soungTranScene=null,e.soungWin=null,e.soungChayBo=null,e.listPop=[],e.mc=null,e.listKhayItem=[],e.listCard1=null,e.listCard2=null,e.preWater=null,e.preOrange=null,e.char1=null,e.char2=null,e.endGame=null,e.linkToStore=null,e.adChanel="Rubeex",e}return i(e,t),e.prototype.start=function(){var t=this;cc.audioEngine.play(this.soundBg,!1,.5),cc.audioEngine.play(this.soungChayBo,!0,1),cc.v3(-1025,661);var e=cc.v3(-792,-523),o=this.cusFist.children[0].getComponent(sp.Skeleton);cc.tween(this.cusFist).to(1.4,{position:e}).call(function(){o.setAnimation(0,"IdleFR",!0)}).start(),cc.tween(this.cameraNgang).delay(.5).to(.9,{zoomRatio:1.8}).delay(.8).to(.6,{zoomRatio:3.9}).start(),cc.tween(this.cameraNgang.node).delay(2.2).to(.6,{position:cc.v3(-30,150)}).start(),cc.tween(this.cameraDoc).delay(.5).to(.9,{zoomRatio:1.5}).delay(.8).to(.6,{zoomRatio:3.2}).start(),cc.tween(this.cameraDoc.node).delay(2.2).to(.6,{position:cc.v3(-30,150)}).start(),this.scheduleOnce(function(){t.listPop[0].getChildByName("hand").active=!0},2.2+.6),"Mintegral"==this.adChanel&&window.gameReady&&window.gameReady()},e.prototype.reponsive=function(t){var e=this.node.getComponent(cc.Canvas);e.fitWidth=!!t,e.fitHeight=!t,this.logo.scale=t?.5:.7,this.listCard1.scale=t?1.8:3.6,this.listCard2.scale=t?1.8:3.6,this.endGame.scale=t?.48:1,this.cameraDoc.node.active=!!t,this.cameraNgang.node.active=!t,this.coinBar.scale=t?.9:1.5},e.prototype.update=function(){var t=cc.view.getFrameSize();t.width<t.height?this.reponsive(!0):this.reponsive(!1)},e.prototype.btn_pop=function(t){var e=this;this.listPop[0].getChildByName("hand").active=!1,cc.audioEngine.play(this.soungUpdate,!1,1),t.currentTarget.getComponent(cc.Button).enabled=!1;var o=this.mc.children[0].getComponent(sp.Skeleton),n=this.mc.children[1].getComponent(sp.Skeleton),i=cc.v3(-450,-60);o.setAnimation(0,"WalkLeft",!0),n.setAnimation(0,"WalkLeft",!0),cc.tween(this.mc).to(1.5,{position:i}).call(function(){for(var t=0,o=e.listKhayItem;t<o.length;t++)o[t].active=!0}).delay(.5).call(function(){o.setAnimation(0,"WalkUp",!0),n.setAnimation(0,"WalkUp",!0)}).to(1,{position:cc.v3(-265,38)}).call(function(){o.setAnimation(0,"WalkRight",!0),n.setAnimation(0,"WalkRight",!0)}).to(1,{position:cc.v3(-150,45)}).start(),cc.tween(this.cameraNgang.node).to(1.5,{position:cc.v3(-463,-40)}).delay(.5).to(1,{position:cc.v3(20,100)}).call(function(){}).start(),cc.tween(this.cameraDoc.node).to(1.5,{position:cc.v3(-463,-40)}).delay(.5).to(1,{position:cc.v3(-100,100)}).call(function(){}).start(),this.scheduleOnce(function(){e.listCard1.active=!0},3.5)},e.prototype.btn_card=function(t,e){var o=this;t.currentTarget.getComponent(cc.Button).enabled=!1,cc.tween(this.listCard1).to(.4,{scale:0}).call(function(){o.listCard1.active=!1}).start();var n=this.listPop[0].parent.convertToWorldSpaceAR(this.listPop[0].position);n=this.node.convertToNodeSpaceAR(n).add(cc.v3(0,60));var i=cc.v3(0,0),c=null;cc.audioEngine.play(this.soungUpdate,!1,1),this.scheduleOnce(function(){"1"==e?(c=cc.instantiate(o.preWater),i=o.listKhayItem[0].parent.convertToWorldSpaceAR(o.listKhayItem[0].position),i=o.node.convertToNodeSpaceAR(i),o.listKhayItem[0].active=!1):"2"==e&&(c=cc.instantiate(o.preOrange),i=o.listKhayItem[2].parent.convertToWorldSpaceAR(o.listKhayItem[2].position),i=o.node.convertToNodeSpaceAR(i),o.listKhayItem[2].active=!1),c.parent=o.node,c.position=i,c.scale=.85;var t=cc.v2((i.x+n.x)/2,n.y+25);cc.tween(c).bezierTo(.5,cc.v2(i.x,i.y),t,cc.v2(n.x,n.y)).call(function(){c.getChildByName("whey").active=!1,c.getChildByName("exp").active=!0,cc.audioEngine.play(o.soungUpdateMay,!1,1),cc.tween(o.listPop[0]).to(.3,{scale:0}).start(),o.scheduleOnce(function(){o.char1.setAnimation(0,"Waiting3",!0),o.char1.node.scaleX=-.45,o.char1.node.children[0].active=!0},.4)}).start(),o.scheduleOnce(function(){cc.tween(o.cameraNgang.node).by(1.5,{position:cc.v3(180,-60)}).start(),cc.tween(o.cameraDoc.node).by(1.5,{position:cc.v3(200,-60)}).start(),cc.tween(o.mc).to(1.5,{position:cc.v3(19,-112)}).call(function(){o.listCard2.active=!0}).start()},.9)},.4)},e.prototype.btn_card2=function(t,e){var o=this;cc.audioEngine.play(this.soungUpdate,!1,1),t.currentTarget.getComponent(cc.Button).enabled=!1,cc.tween(this.listCard2).to(.4,{scale:0}).call(function(){o.listCard2.active=!1}).start();var n=this.listPop[1].parent.convertToWorldSpaceAR(this.listPop[1].position);n=this.node.convertToNodeSpaceAR(n).add(cc.v3(0,60));var i=cc.v3(0,0),c=null;this.scheduleOnce(function(){"1"==e?(c=cc.instantiate(o.preWater),i=o.listKhayItem[0].parent.convertToWorldSpaceAR(o.listKhayItem[0].position),i=o.node.convertToNodeSpaceAR(i),o.listKhayItem[0].active=!1):"2"==e&&(c=cc.instantiate(o.preOrange),i=o.listKhayItem[2].parent.convertToWorldSpaceAR(o.listKhayItem[2].position),i=o.node.convertToNodeSpaceAR(i),o.listKhayItem[2].active=!1),c.parent=o.node,c.position=i,c.scale=.85;var t=cc.v2((i.x+n.x)/2,n.y+25);cc.tween(c).bezierTo(.5,cc.v2(i.x,i.y),t,cc.v2(n.x,n.y)).call(function(){c.getChildByName("whey").active=!1,c.getChildByName("exp").active=!0,cc.tween(o.listPop[1]).to(.3,{scale:0}).start(),o.scheduleOnce(function(){cc.audioEngine.play(o.soungTranScene,!1,1),o.char2.setAnimation(0,"Waiting3",!0),o.char2.node.scaleX=-.45,o.char2.node.children[0].active=!0},.4)}).start(),o.scheduleOnce(function(){o.endGame.active=!0,o.linkToStore.active=!0,cc.audioEngine.play(o.soungWin,!1,1)},1.1)},.4)},c([s(cc.Camera)],e.prototype,"cameraNgang",void 0),c([s(cc.Camera)],e.prototype,"cameraDoc",void 0),c([s(cc.Node)],e.prototype,"logo",void 0),c([s(cc.Node)],e.prototype,"coinBar",void 0),c([s(cc.Node)],e.prototype,"cusFist",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soungUpdate",void 0),c([s(cc.AudioClip)],e.prototype,"soungUpdateMay",void 0),c([s(cc.AudioClip)],e.prototype,"soungTranScene",void 0),c([s(cc.AudioClip)],e.prototype,"soungWin",void 0),c([s(cc.AudioClip)],e.prototype,"soungChayBo",void 0),c([s(cc.Node)],e.prototype,"listPop",void 0),c([s(cc.Node)],e.prototype,"mc",void 0),c([s(cc.Node)],e.prototype,"listKhayItem",void 0),c([s(cc.Node)],e.prototype,"listCard1",void 0),c([s(cc.Node)],e.prototype,"listCard2",void 0),c([s(cc.Prefab)],e.prototype,"preWater",void 0),c([s(cc.Prefab)],e.prototype,"preOrange",void 0),c([s(sp.Skeleton)],e.prototype,"char1",void 0),c([s(sp.Skeleton)],e.prototype,"char2",void 0),c([s(cc.Node)],e.prototype,"endGame",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ICY_19:[function(t,e,o){"use strict";cc._RF.push(e,"a20dbL9ksJMpZmjImy+M4dx","ICY_19");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),globalThis.countWood=0,globalThis.countMoney=0,globalThis.update=1;var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainCamera=null,e.listCus=null,e.listCusPre=[],e.woodPrefab=null,e.moneyPrefab=null,e.preTree=null,e.listtree=null,e.char=null,e.bage=null,e.arenaSell=null,e.arenaMoney=null,e.arenaUpgrade=null,e.arenaUpgrade2=null,e.arenaUpgrade3=null,e.arenaUpgrade4=null,e.preText=null,e.linkToStore=null,e.listArrow=null,e.adChanel="Rubeex",e.logo=null,e.keTien=null,e.soundBg=null,e.soundPut=null,e.soundUd=null,e.soundChatGo=null,e.soundNhanGo=null,e.lbMoney=null,e.lbWood=null,e.barCurrent=null,e.endCard=null,e.Joystick=null,e.cusNext=null,e.vfxMoney=null,e.preEgg=null,e.preKhayTrung=null,e.keGo=null,e.listCusSub=[],e.arrow2=null,e.arrow3=null,e.listTrung=null,e.tableSell=null,e.moneyBag=null,e.moneyTable=null,e.farm3=null,e.farm4=null,e.arrowPrefab=null,e.arrowNode=null,e.isFirtTut=!1,e.isDelaySOund=!1,e.charComp=null,e.listCusPos=[cc.v3(-35.76,-370.11,0),cc.v3(33.94,-402.91,0),cc.v3(110.13,-445.05,0),cc.v3(189.77,-488.97,0),cc.v3(267.05,-534.79,0),cc.v3(366.1,-590.53,0)],e.isPlayerEggs=0,e.arrCus=[],e.arrPos=[],e.arrPosKe=[],e.countBage=0,e.countBageTabel=0,e.listMoneyPos=[cc.v3(-5.03,77.62,0),cc.v3(32.39,57.52,0),cc.v3(71.48,36.3,0),cc.v3(110.56,15.63,0),cc.v3(-57.52,48.58,0),cc.v3(-20.1,28.48,0),cc.v3(18.99,7.26,0),cc.v3(58.07,-13.4,0),cc.v3(-110.01,18.98,0),cc.v3(-72.59,-1.12,0),cc.v3(-33.5,-22.34,0),cc.v3(5.58,-43,0)],e.arrowSpacing=50,e.countOpen=0,e.arrows=[],e.isCount=0,e.isCountSub=0,e.isCountEggke=0,e.isUpdate=1,e.isSelling=!1,e.isTranske=!1,e.countMoneyTable=0,e.countMoneyBag=0,e.istransMoney=!1,e.fillUd=0,e.isud=0,e.isvertical=!1,e.isTargetDraw=null,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},e.prototype.start=function(){cc.audioEngine.play(this.soundBg,!0,1),"Mintegral"==this.adChanel&&window.gameReady&&window.gameReady(),this.charComp=this.char.getComponent("character");for(var t=0;t<this.listCus.childrenCount;t++)this.arrCus.push(this.listCus.children[t]),this.arrPos.push(this.listCus.children[t].position);for(this.listCus.children[0].getComponent("character").realdySell=!0,t=this.keGo.childrenCount-1;t>=0;t--)this.arrPosKe.push(this.keGo.children[t].position),this.keGo.children[t].destroy();this.createEggs(),this.isTargetDraw=this.listArrow.children[2]},e.prototype.onEndGame=function(){var t=this;this.scheduleOnce(function(){t.endCard.active=!0,t.linkToStore.active=!0,t.Joystick.active=!1,t.Joystick.getComponent("JoyStick").touchEndEvent()},1)},e.prototype.upgradeArena=function(){},e.prototype.createEggs=function(){for(var t=cc.v3(-882,514),e=0;e<20;e++)for(var o=0;o<12;o++){var n=Math.floor(360*Math.random()),i=cc.instantiate(this.preEgg);i.parent=this.listTrung,i.angle=n,i.position=t.add(cc.v3(-43*o+40*e,-23*o-20*e))}},e.prototype.collectEggs=function(t){var e=this;if(this.listArrow.children[2].active=!1,t&&t.parent){var o=t.parent.convertToWorldSpaceAR(t.position).add(cc.v3(0,100));t.getComponent(cc.Animation).play(),this.isPlayerEggs,globalThis.countWood++,this.scheduleOnce(function(){0==e.isDelaySOund&&(e.isDelaySOund=!0,cc.audioEngine.play(e.soundChatGo,!1,1),e.scheduleOnce(function(){e.isDelaySOund=!1},.2));var t=cc.instantiate(e.woodPrefab);t.parent=e.bage;var n=e.bage.convertToNodeSpaceAR(o),i=cc.v3(0,0),c=cc.v2((n.x+i.x)/2,n.y+100);t.position=n,cc.tween(t).bezierTo(.3,cc.v2(n.x,n.y),c,cc.v2(i.x,i.y)).start(),cc.tween(t).to(.3,{angle:360}).call(function(){t.destroy()}).start()},.05);var n=cc.instantiate(this.preText);n.parent=this.node,n.position=this.node.convertToNodeSpaceAR(o),this.addEgg(t.position),t.destroy(),this.isPlayerEggs++,this.isCount++,4==this.isCount&&(this.createKhay(),this.isCount=0)}},e.prototype.addEgg=function(t){var e=this;this.scheduleOnce(function(){if(e.listTrung.childrenCount<=240){var o=cc.instantiate(e.preEgg);o.parent=e.listTrung,o.position=t}},2)},e.prototype.createKhay=function(){if(!(this.countBage>=20)){this.countBage<0&&(this.countBage=0);var t=cc.instantiate(this.preKhayTrung);t.parent=this.bage,t.position=cc.v3(0,50).add(cc.v3(0,40*this.countBage)),this.countBage++}},e.prototype.collectEggsSub=function(t){var e=this;if(this.listArrow.children[2].active=!1,t&&t.parent){var o=t.parent.convertToWorldSpaceAR(t.position).add(cc.v3(0,100));t.getComponent(cc.Animation).play();var n=this.isCountEggke,i=Math.floor(n/9),c=n%9;if(0==this.isDelaySOund&&(this.isDelaySOund=!0,cc.audioEngine.play(this.soundChatGo,!1,.5),this.scheduleOnce(function(){e.isDelaySOund=!1},.2)),this.isCountSub++,4==this.isCountSub&&this.isCountEggke<=60){this.isCountSub=0,this.isCountEggke++;var a=cc.instantiate(this.preKhayTrung);a.parent=this.keGo,a.scale=1;var r=this.arrPosKe[c].add(cc.v3(0,20*i));a.position=r}4==this.isCountSub&&(this.isCountSub=0);var s=cc.instantiate(this.preText);s.parent=this.node,s.position=this.node.convertToNodeSpaceAR(o),this.addEgg(t.position),t.destroy()}},e.prototype.updateOpen1=function(){cc.audioEngine.play(this.soundUd,!1,1),globalThis.update=2,this.listCusSub[0].active=!0,this.listCusSub[1].active=!0,this.listCusSub[2].active=!0,this.listCusSub[3].active=!0,this.listCusSub[4].active=!0,cc.tween(this.arenaUpgrade).to(.3,{scale:0}).start(),this.arenaUpgrade=this.arenaUpgrade2,this.listArrow.children[5].active=!0,this.arrowNode.active=!0,this.isTargetDraw=this.listArrow.children[5]},e.prototype.updateOpen2=function(){cc.audioEngine.play(this.soundUd,!1,1),this.listCusSub[3].active=!0,this.listCusSub[4].active=!0,this.arenaUpgrade2.active=!1},e.prototype.sellMoney=function(){var t=this;if(this.countMoneyBag>0){cc.audioEngine.play(this.soundChatGo,!1,1);var e=this.moneyBag.children[this.countMoneyBag-1];this.countMoneyBag--;var o=e.parent.convertToWorldSpaceAR(e.position);o=this.arenaUpgrade.convertToNodeSpaceAR(o),e.parent=this.arenaUpgrade,e.position=o;var n=cc.v2(o.x/2,o.y/2+200);cc.tween(e).bezierTo(.1,cc.v2(o.x,o.y),n,cc.v2(0,0)).call(function(){e.children[1].active=!0,e.children[0].active=!1,t.scheduleOnce(function(){e.destroy()},.4),t.arenaUpgrade.getComponent("arena").upgrade(10),globalThis.countMoney=globalThis.countMoney-10}).start()}},e.prototype.sellMoney3=function(){var t=this;if(this.countMoneyBag>0){cc.audioEngine.play(this.soundChatGo,!1,1);var e=this.moneyBag.children[this.countMoneyBag-1];this.countMoneyBag--;var o=e.parent.convertToWorldSpaceAR(e.position);o=this.arenaUpgrade3.convertToNodeSpaceAR(o),e.parent=this.arenaUpgrade3,e.position=o;var n=cc.v2(o.x/2,o.y/2+200);cc.tween(e).bezierTo(.1,cc.v2(o.x,o.y),n,cc.v2(0,0)).call(function(){e.children[1].active=!0,e.children[0].active=!1,t.scheduleOnce(function(){e.destroy()},.4),t.arenaUpgrade3.getComponent("arena").upgrade(10),globalThis.countMoney=globalThis.countMoney-10}).start()}},e.prototype.sellMoney4=function(){var t=this;if(this.countMoneyBag>0){var e=this.moneyBag.children[this.countMoneyBag-1];this.countMoneyBag--;var o=e.parent.convertToWorldSpaceAR(e.position);o=this.arenaUpgrade4.convertToNodeSpaceAR(o),e.parent=this.arenaUpgrade4,e.position=o;var n=cc.v2(o.x/2,o.y/2+200);cc.tween(e).bezierTo(.1,cc.v2(o.x,o.y),n,cc.v2(0,0)).call(function(){e.children[1].active=!0,e.children[0].active=!1,t.scheduleOnce(function(){e.destroy()},.4),t.arenaUpgrade4.getComponent("arena").upgrade(10),globalThis.countMoney=globalThis.countMoney-10}).start()}},e.prototype.offSellMone=function(){this.unschedule(this.sellMoney)},e.prototype.offSellMone3=function(t){3==t?this.unschedule(this.sellMoney3):this.unschedule(this.sellMoney4)},e.prototype.getSell=function(){cc.audioEngine.play(this.soundNhanGo,!1,1);var t=globalThis.countMoney;this.arenaUpgrade.position,t>0&&(this.arrow3.active=!1,this.schedule(this.sellMoney,.12))},e.prototype.getSell3=function(t){cc.audioEngine.play(this.soundNhanGo,!1,1);var e=globalThis.countMoney;3==t?this.arenaUpgrade3.position:this.arenaUpgrade4.position,e>0&&(this.arrow3.active=!1,3==t?this.schedule(this.sellMoney3,.12):this.schedule(this.sellMoney4,.12))},e.prototype.sellToCus=function(){},e.prototype.sellToCus2=function(){var t=this;this.isSelling||(1==this.arrow2.active&&(this.arrow2.active=!1,this.scheduleOnce(function(){t.arrow3.active=!0},1)),this.isSelling=!0,this.schedule(this.doSell,.12))},e.prototype.offSell=function(){this.isSelling=!1,this.unschedule(this.doSell)},e.prototype.doSell=function(){var t=this,e=this.arrCus[0].position.add(cc.v3(0,100));e=this.listCus.convertToWorldSpaceAR(e);var o=this.char.getChildByName("bageClone");if(this.arrCus[0].getComponent("character").realdySell)if(this.countBage-1>=0){globalThis.countWood--,cc.audioEngine.play(this.soundPut,!1,1);var n=this.bage.children[this.countBage-1];if(""!=n.name){n.parent=o;var i=n.position,c=this.tableSell.parent.convertToWorldSpaceAR(this.tableSell.position);c=o.convertToNodeSpaceAR(c);var a=cc.v2((i.x+c.y)/2,(i.y+c.y)/2+800);cc.tween(n).bezierTo(.1,cc.v2(i.x,i.y),a,cc.v2(c.x,c.y)).call(function(){t.creatEggTable(),t.checkRemove(),n.destroy()}).start()}}else this.countBageTabel>0&&this.checkRemove(),this.transMoneyToChar()},e.prototype.creatEggTable=function(){if(!(this.countBageTabel>=30)){this.countBageTabel++;var t=this.tableSell.getChildByName("bag"),e=[cc.v3(203,-300),cc.v3(-95,-20)],o=Math.floor(this.countBageTabel/2),n=this.countBageTabel%2,i=cc.instantiate(this.preKhayTrung);i.parent=t,i.scale=5,i.position=cc.v3(e[n].x,120*o+e[n].y)}},e.prototype.addWoodFromKe=function(){this.isTranske||this.countBage>=20||(this.isTranske=!0,this.schedule(this.addTopToRay,.15))},e.prototype.addTopToRay=function(){if(!(this.isCountEggke<=0)){var t=this.keGo.children[this.isCountEggke-1];this.isCountEggke--,t.parent=this.bage,t.stopAllActions(),t.angle=360,t.scaleX=1,globalThis.countWood++,this.countBage<0&&(this.countBage=0),t.position=cc.v3(0,50).add(cc.v3(0,40*this.countBage)),this.countBage++}},e.prototype.offWoodFromKe=function(){this.isTranske=!1,this.unschedule(this.addTopToRay)},e.prototype.checkRemove=function(){if(!(this.countBageTabel<=0)){var t=this.arrCus[0];t.getComponent("character").isFill+=.35,this.isPlayerEggs-=4,this.countBage-=1;var e=t.getComponent("character").isFill,o=t.getChildByName("status").children[0].getComponent(cc.Sprite);if(cc.tween(o).to(.1,{fillRange:e}).call(function(){}).start(),e>=1){var n=this.tableSell.getChildByName("bag");this.countBageTabel-=1,n.children[this.countBageTabel]&&""!=n.children[this.countBageTabel].name&&n.children[this.countBageTabel].destroy(),0==t.getComponent("character").success&&(t.getComponent("character").success=!0,t.getComponent("character").isFill=0,o.fillRange=0,this.removeChild())}}},e.prototype.removeChild=function(){var t=this;cc.audioEngine.play(this.soundUd,!1,1);var e=this.arrCus[0];e.getChildByName("status").getComponent(cc.Animation).play(),this.scheduleOnce(function(){var o=cc.instantiate(t.vfxMoney);o.parent=t.node,o.position=e.position.add(cc.v3(50,50)),o.scale=1.2,t.createMoney(),globalThis.countMoney+=10,e.parent=t.cusNext,e.getComponent("character").moveToBar(),t.arrCus.shift(),t.addCus(),t.scheduleOnce(function(){for(var o=0;o<t.arrCus.length;o++)t.arrCus[o]!=e&&(t.arrCus[o].getComponent("character").moveNext(t.arrPos[o]),0==o&&(t.arrCus[o].getComponent("character").realdySell=!0))},.2)},.2)},e.prototype.createMoney=function(){var t=[cc.v3(78,17),cc.v3(18,-25)],e=Math.floor(this.countMoneyTable/2),o=t[this.countMoneyTable%2],n=cc.v2(o.x,o.y+20*e),i=cc.v2(-128.6,-135.876),c=cc.v2((i.x+n.x)/2,(i.y+n.y)/2+300),a=cc.instantiate(this.moneyPrefab);a.parent=this.moneyTable,cc.tween(a).bezierTo(.3,i,c,n).start(),this.countMoneyTable++},e.prototype.transMoneyToChar=function(){if(!(this.istransMoney||this.countMoneyTable<=0)){this.istransMoney=!0;for(var t=this.countMoneyTable-1;t>=0;t--){cc.audioEngine.play(this.soundChatGo,!1,1);var e=this.moneyTable.children[t],o=e.parent.convertToWorldSpaceAR(e.position);o=this.moneyBag.convertToNodeSpaceAR(o),e.parent=this.moneyBag,e.stopAllActions(),e.position=o;var n=cc.v2(0,20*this.countMoneyBag),i=cc.v2(o.x,o.y),c=cc.v2((n.x+o.x)/2,(n.y+o.y)/2+200);cc.tween(e).bezierTo(.1,i,c,n).start(),this.countMoneyBag++,this.countMoneyTable--,0==t&&(this.istransMoney=!1)}}},e.prototype.addCus=function(){var t=Math.floor(Math.random()*this.listCusPre.length),e=cc.instantiate(this.listCusPre[t]);e.parent=this.listCus,e.position=cc.v3(829,-879),e.scale=1.2,this.arrCus.push(e)},e.prototype.getUpgrade=function(){var t=this;this.listArrow.children[1].active=!1;var e=this.keTien.childrenCount-1,o=this.arenaUpgrade.parent.convertToWorldSpaceAR(this.arenaUpgrade.position);o=this.keTien.convertToNodeSpaceAR(o);for(var n=function(e){var n=i.keTien.children[e],c=cc.v2((o.x+n.x)/2,o.y+200);cc.tween(n).delay(.05*e).call(function(){cc.audioEngine.play(t.soundPut,!1,1),globalThis.countMoney--}).bezierTo(.3,cc.v2(n.x,n.y),c,cc.v2(o.x,o.y)).call(function(){n.destroy(),t.upgradeEff()}).start()},i=this,c=e;c>=0;c--)n(c)},e.prototype.upgradeEff=function(){var t=this,e=this.arenaUpgrade.getChildByName("fill").getComponent(cc.Sprite);this.fillUd+=.05,cc.tween(e).to(.1,{fillRange:this.fillUd}).call(function(){if(e.fillRange>=1)return e.fillRange=0,t.updateHero(),void(t.fillUd=0)}).start()},e.prototype.updateHero=function(){cc.audioEngine.play(this.soundUd,!1,1),this.char.getChildByName("textUd").getComponent(cc.Animation).play(),0==this.isud?(this.char.getComponent("character").anim.setSkin("Skin_1"),this.char.getChildByName("vfx_ud").getComponent(cc.Animation).play()):3==this.isud&&(this.char.getComponent("character").anim.setSkin("Skin_2"),this.char.getChildByName("vfx_ud").getComponent(cc.Animation).play()),this.isud++},e.prototype.showEndCard=function(){this.linkToStore.active=!0,this.endCard.active=!0,this.Joystick.active=!1,this.Joystick.getComponent("JoyStick").touchEndEvent()},e.prototype.spawMoney=function(t){var e=this;this.arenaMoney.getComponent(cc.PolygonCollider).enabled=!1;var o=t.position.add(cc.v3(0,100));o=t.parent.convertToWorldSpaceAR(o),o=this.keTien.convertToNodeSpaceAR(o);for(var n=function(t){i.scheduleOnce(function(){var n=cc.instantiate(e.moneyPrefab);n.parent=e.keTien,n.position=o,cc.tween(n).to(.2,{position:e.listMoneyPos[t]}).call(function(){globalThis.countMoney++,11==t&&(e.arenaMoney.getComponent(cc.PolygonCollider).enabled=!0)}).start()},.05*t)},i=this,c=0;c<12;c++)n(c)},e.prototype.reponsive=function(t){this.mainCamera.zoomRatio=t?1.2:2,this.logo.scale=t?.4:.6,this.logo.getComponent(cc.Widget).top=t?157:180,this.logo.getComponent(cc.Widget).left=t?200:-600,this.barCurrent.scale=t?1:1.8,this.barCurrent.getComponent(cc.Widget).top=t?149:250,this.barCurrent.getComponent(cc.Widget).right=t?137:-513,this.endCard.scale=t?1:1.5},e.prototype.update=function(){this.isTargetDraw&&this.drawnArrow(this.char,this.isTargetDraw),this.isFirtTut||10!=globalThis.countWood||(this.isFirtTut=!0,this.arrow2.active=!0),this.lbMoney.string=globalThis.countMoney.toString(),this.lbWood.string=globalThis.countWood.toString(),this.mainCamera.node.setPosition(this.char.position.add(cc.v3(100,0))),this.node.getComponent(cc.Canvas);var t=cc.view.getFrameSize();if(t.width<t.height)this.reponsive(!0),this.isvertical||(this.isvertical=!0);else{this.reponsive(!1);var e=t.width/t.height;e<1.35&&e>1.3&&(this.logo.getComponent(cc.Widget).left=-400)}},e.prototype.drawnArrow=function(t,e){if(t&&e&&this.arrowPrefab&&4!=this.countOpen&&""!=e.name){for(var o=t.convertToWorldSpaceAR(cc.v2(0,0)),n=e.convertToWorldSpaceAR(cc.v2(0,0)),i=this.arrowNode,c=i.convertToNodeSpaceAR(o),a=i.convertToNodeSpaceAR(n),r=a.sub(c),s=r.mag(),l=180*cc.v2(1,0).signAngle(r)/Math.PI,p=Math.floor(s/this.arrowSpacing);this.arrows.length<p;)(h=cc.instantiate(this.arrowPrefab)).zIndex=0,i.addChild(h),this.arrows.push(h);for(;this.arrows.length>p;)this.arrows.pop().destroy();for(var d=0;d<p;d++){var h,u=(d+1)*this.arrowSpacing/s,y=a.lerp(c,u);(h=this.arrows[d]).setPosition(y.add(cc.v3(0,0))),h.scale=-1.5,h.angle=l}}},c([s(cc.Camera)],e.prototype,"mainCamera",void 0),c([s(cc.Node)],e.prototype,"listCus",void 0),c([s(cc.Prefab)],e.prototype,"listCusPre",void 0),c([s(cc.Prefab)],e.prototype,"woodPrefab",void 0),c([s(cc.Prefab)],e.prototype,"moneyPrefab",void 0),c([s(cc.Prefab)],e.prototype,"preTree",void 0),c([s(cc.Node)],e.prototype,"listtree",void 0),c([s(cc.Node)],e.prototype,"char",void 0),c([s(cc.Node)],e.prototype,"bage",void 0),c([s(cc.Node)],e.prototype,"arenaSell",void 0),c([s(cc.Node)],e.prototype,"arenaMoney",void 0),c([s(cc.Node)],e.prototype,"arenaUpgrade",void 0),c([s(cc.Node)],e.prototype,"arenaUpgrade2",void 0),c([s(cc.Node)],e.prototype,"arenaUpgrade3",void 0),c([s(cc.Node)],e.prototype,"arenaUpgrade4",void 0),c([s(cc.Prefab)],e.prototype,"preText",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([s(cc.Node)],e.prototype,"listArrow",void 0),c([s(cc.Node)],e.prototype,"logo",void 0),c([s(cc.Node)],e.prototype,"keTien",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundPut",void 0),c([s(cc.AudioClip)],e.prototype,"soundUd",void 0),c([s(cc.AudioClip)],e.prototype,"soundChatGo",void 0),c([s(cc.AudioClip)],e.prototype,"soundNhanGo",void 0),c([s(cc.Label)],e.prototype,"lbMoney",void 0),c([s(cc.Label)],e.prototype,"lbWood",void 0),c([s(cc.Node)],e.prototype,"barCurrent",void 0),c([s(cc.Node)],e.prototype,"endCard",void 0),c([s(cc.Node)],e.prototype,"Joystick",void 0),c([s(cc.Node)],e.prototype,"cusNext",void 0),c([s(cc.Prefab)],e.prototype,"vfxMoney",void 0),c([s(cc.Prefab)],e.prototype,"preEgg",void 0),c([s(cc.Prefab)],e.prototype,"preKhayTrung",void 0),c([s(cc.Node)],e.prototype,"keGo",void 0),c([s(cc.Node)],e.prototype,"listCusSub",void 0),c([s(cc.Node)],e.prototype,"arrow2",void 0),c([s(cc.Node)],e.prototype,"arrow3",void 0),c([s(cc.Node)],e.prototype,"listTrung",void 0),c([s(cc.Node)],e.prototype,"tableSell",void 0),c([s(cc.Node)],e.prototype,"moneyBag",void 0),c([s(cc.Node)],e.prototype,"moneyTable",void 0),c([s(cc.Node)],e.prototype,"farm3",void 0),c([s(cc.Node)],e.prototype,"farm4",void 0),c([s(cc.Prefab)],e.prototype,"arrowPrefab",void 0),c([s(cc.Node)],e.prototype,"arrowNode",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],JoyStick:[function(t,e,o){"use strict";cc._RF.push(e,"175c95KQxdMFaXQ667wjLz8","JoyStick");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dot=null,e.ring=null,e.guild=null,e.shadow=null,e.radius=null,e.stickPos=null,e.touchLocation=null,e.gamePlay=null,e.offGuide=!1,e}return i(e,t),e.prototype.onLoad=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("ICY_19")},e.prototype.start=function(){this.radius=this.ring.width/2,this.initTouchEvent()},e.prototype.initTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEndEvent,this)},e.prototype.touchStartEvent=function(t){this.offGuide||(this.offGuide=!0,this.guild.active=!1,this.node.getChildByName("name").active=!1,this.shadow.active=!1);var e=this.node.convertToNodeSpaceAR(t.getLocation());this.stickPos=this.ring.getPosition();var o=e.sub(this.ring.getPosition().mag());this.radius>o&&this.dot.setPosition(e),this.gamePlay.charComp.directionX=this.dot.x>0?-1:1,this.gamePlay.charComp.direction=this.dot.y>0?1:2,this.gamePlay.charComp.run(),this.stickPos=e,this.node.opacity=255,this.touchLocation=t.getLocation(),this.ring.setPosition(e),this.dot.setPosition(e)},e.prototype.touchMoveEvent=function(t){if(this.touchLocation===t.getLocation())return!1;var e=this.ring.convertToNodeSpaceAR(t.getLocation()),o=e.mag(),n=this.stickPos.x+e.x,i=this.stickPos.y+e.y,c=cc.v2(n,i).sub(this.ring.getPosition()).normalize();if(this.radius>o)this.dot.setPosition(cc.v2(n,i));else{var a=this.stickPos.x+c.x*this.radius,r=this.stickPos.y+c.y*this.radius;this.dot.setPosition(cc.v2(a,r))}this.gamePlay.charComp.moveDir=c,this.gamePlay.charComp.directionX=this.dot.x-this.ring.x>0?-1:1,this.gamePlay.charComp.direction=this.dot.y>0?1:2,this.gamePlay.charComp.run()},e.prototype.touchEndEvent=function(){this.dot.setPosition(this.ring.getPosition()),this.gamePlay.charComp.stop(),this.dot.setPosition(cc.v3(0,0)),this.ring.setPosition(cc.v3(0,0))},e.prototype.update=function(){},c([s(cc.Node)],e.prototype,"dot",void 0),c([s(cc.Node)],e.prototype,"ring",void 0),c([s(cc.Node)],e.prototype,"guild",void 0),c([s(cc.Node)],e.prototype,"shadow",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"9f6b6zGRgFL8ro5qUAfhG9m","Player");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e}return i(e,t),e.prototype.start=function(){},c([s(sp.Skeleton)],e.prototype,"anim",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],YC_11:[function(t,e,o){"use strict";cc._RF.push(e,"28cb8Ewg5xKqbr2Wz30wkLu","YC_11");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.pop=null,e.pop2=null,e.gate=null,e.lbCountCus=null,e.listCus=[],e.listCus2=[],e.house0=null,e.house1=null,e.house2=null,e.house3=null,e.house4=null,e.popRed=null,e.popRedGreen=null,e.listHand=[],e.tree=null,e.text=null,e.lbWood=null,e.linkToStore=null,e.woodBar=null,e.soundUd=null,e.soundBg=null,e.soundGio=null,e.soundClick=null,e.soundChatGo=null,e.soundlanhCanRang=null,e.soundYee=null,e.adChanel="Rubeex",e.countCus=0,e.phase=0,e.first=!1,e.max=4,e.countWood=100,e.arrPos=[cc.v3(-522,558),cc.v3(-525,445),cc.v3(-621,398),cc.v3(-733,400)],e.idSOundGio=null,e.isSoundGo=0,e.isvertical=!1,e}return i(e,t),e.prototype.start=function(){var t=this;this.screen(),"Mintegral"==this.adChanel&&window.gameReady&&window.gameReady(),cc.audioEngine.play(this.soundBg,!0,.5),cc.audioEngine.play(this.soundlanhCanRang,!1,.8),this.scheduleOnce(function(){cc.tween(t.camera).by(.3,{zoomRatio:-.3}).call(function(){t.pop.active=!0,t.scheduleOnce(function(){t.pop.getComponent(cc.Button).enabled=!0,t.listHand[0].active=!0},.2)}).start(),cc.tween(t.camera.node).to(.3,{position:cc.v3(-200,150)}).start()},.2),this.idSOundGio=cc.audioEngine.play(this.soundGio,!0,1)},e.prototype.btn_addCus=function(){var t=this;if(!(0==this.phase&&this.countCus>3||1==this.phase&&this.countCus>8))if(this.pop.getComponent(cc.Animation).play("pop_click"),cc.audioEngine.play(this.soundClick,!1,1),this.first||(this.first=!0,this.gate.getComponent(cc.Animation).play("cong_open")),0==this.phase){var e=this.listCus[this.countCus];e.getComponent(C).anim.setAnimation(0,"Run",!0),e.getComponent(C).getHappy(),e.zIndex=this.countCus,cc.tween(e).to(2,{position:this.arrPos[this.countCus]}).call(function(){e.getComponent(C).anim.setAnimation(0,"Idle",!0),e.getComponent(C).hungry()}).start(),this.countCus++,this.lbCountCus.string=this.countCus.toString()+" /"+this.max.toString(),0==this.phase&&4==this.countCus&&(this.pop.getComponent(cc.Button).enabled=!1,this.pop.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.popRed,this.listHand[0].active=!1,cc.audioEngine.stop(this.idSOundGio),this.step1())}else if(1==this.phase){var o=[cc.v3(-431,463),cc.v3(-450,300),cc.v3(-626,335),cc.v3(-784,304),cc.v3(-700,200)],n=this.listCus2[this.countCus-4],i=o[this.countCus-4];this.countCus++,this.lbCountCus.string=this.countCus.toString()+" /"+this.max.toString(),n.getComponent(C).statusNode.active=!0,n.getComponent(C).anim.setAnimation(0,"Run",!0),n.getComponent(C).getHappy(),n.zIndex=this.countCus,cc.tween(n).to(2,{position:i}).call(function(){n.getComponent(C).anim.setAnimation(0,"Idle",!0)}).start(),1==this.phase&&9==this.countCus&&(this.pop.getComponent(cc.Button).enabled=!1,this.pop.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.popRed,this.listHand[0].active=!1,cc.tween(this.camera).by(.5,{zoomRatio:-.1}).start(),cc.tween(this.camera.node).to(.5,{position:cc.v3(-1100,550)}).call(function(){t.listHand[4].active=!0,t.house3.getComponent(cc.Button).enabled=!0,t.gate.getComponent(cc.Animation).play("cong_close")}).start())}},e.prototype.step1=function(){var t=this;this.scheduleOnce(function(){cc.tween(t.camera.node).to(.7,{position:cc.v3(-726,400)}).start(),t.gate.getComponent(cc.Animation).play("cong_close")},.3),this.scheduleOnce(function(){cc.tween(t.camera.node).to(.4,{position:cc.v3(-1571,140)}).call(function(){t.house1.getComponent(cc.Button).enabled=!0,t.listHand[1].active=!0}).start()},2.3)},e.prototype.btn_clickHouse1=function(){var t=this;cc.audioEngine.play(this.soundUd,!1,1),this.listHand[1].active=!1,this.house1.getComponent(cc.Animation).play("house_show"),this.house1.getChildByName("smoke").active=!0,this.house1.getComponent(cc.Button).enabled=!1,cc.v3(-1158,19),cc.v3(-1646,212);var e=this.listCus[3];e.getComponent(C).anim.setAnimation(0,"Run",!0),cc.tween(e).to(1.2,{position:cc.v3(-1158,19)}).to(1.2,{position:cc.v3(-1600,212)}).call(function(){e.scaleX=-.65,e.getComponent(C).anim.setAnimation(0,"ChatCay",!0),t.cutTree()}).start()},e.prototype.cutTree=function(){var t=this;this.schedule(function(){t.isSoundGo<3&&(t.isSoundGo++,cc.audioEngine.play(t.soundChatGo,!1,1)),t.tree.getComponent(cc.Animation).play(),t.text.play(),t.scheduleOnce(function(){t.countWood+=100},.2)},.9),this.scheduleOnce(function(){t.pop2.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=t.popRedGreen,cc.tween(t.camera.node).to(.6,{position:cc.v3(-726,400)}).call(function(){t.listHand[2].active=!0,t.pop2.getComponent(cc.Button).enabled=!0}).start()},2)},e.prototype.btn_click2=function(){var t=this;cc.audioEngine.play(this.soundUd,!1,1),cc.audioEngine.play(this.soundYee,!1,1);for(var e=0,o=this.listCus;e<o.length;e++)o[e].getComponent(C).happy();this.listHand[2].active=!1,this.pop2.getComponent(cc.Button).enabled=!1,this.pop2.getComponent(cc.Animation).play("pop_close"),this.house0.getComponent(cc.Animation).play("house_show"),this.house0.getChildByName("smoke").active=!0,cc.tween(this.camera.node).to(.6,{position:cc.v3(-250,825)}).call(function(){t.listHand[3].active=!0,t.house2.getComponent(cc.Button).enabled=!0}).start(),cc.tween(this.camera).by(.6,{zoomRatio:-.1}).start()},e.prototype.btn_clickhouse2=function(){var t=this;cc.audioEngine.play(this.soundUd,!1,1),this.house2.getComponent(cc.Button).enabled=!1,this.house2.getComponent(cc.Animation).play("house_show"),this.house2.getChildByName("smoke").active=!0,this.listHand[3].active=!1,cc.tween(this.camera.node).to(.6,{position:cc.v3(-0,0)}).call(function(){t.pop.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=t.popRedGreen,t.max=9,t.lbCountCus.string=t.countCus.toString()+" /"+t.max.toString(),t.phase=1,t.pop.getComponent(cc.Button).enabled=!0,t.listHand[0].active=!0,t.first=!1}).start()},e.prototype.btn_clickhouse3=function(){var t=this;cc.audioEngine.play(this.soundUd,!1,1),this.house3.getComponent(cc.Button).enabled=!1,this.house3.getComponent(cc.Animation).play("house_show"),this.house3.getChildByName("smoke").active=!0,this.listHand[4].active=!1,cc.tween(this.camera).by(.6,{zoomRatio:.2}).call(function(){}).start(),cc.tween(this.camera.node).by(.6,{position:cc.v3(500,100)}).call(function(){t.house4.getComponent(cc.Button).enabled=!0,t.listHand[5].active=!0}).start()},e.prototype.btn_clickhouse4=function(){var t=this;cc.audioEngine.play(this.soundUd,!1,1),this.listHand[5].active=!1,this.house4.getComponent(cc.Button).enabled=!1,this.house4.getComponent(cc.Animation).play("house_show"),this.house4.getChildByName("smoke").active=!0,cc.tween(this.camera).by(.2,{zoomRatio:-.2}).call(function(){t.linkToStore.active=!0,t.listHand[0].active=!0,t.pop.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=t.popRedGreen,t.max=14,t.lbCountCus.string=t.countCus.toString()+" /"+t.max.toString()}).start(),cc.tween(this.camera.node).by(.6,{position:cc.v3(300,-200)}).start()},e.prototype.update=function(){this.lbWood.string=this.countWood.toString();var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.woodBar.scale=1,this.woodBar.getComponent(cc.Widget).right=232.61):(this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1,this.woodBar.scale=1.3,this.woodBar.getComponent(cc.Widget).right=300)},e.prototype.screen=function(){var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.camera.zoomRatio=1.2):(this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1,this.camera.zoomRatio=2)},c([s(cc.Camera)],e.prototype,"camera",void 0),c([s(cc.Node)],e.prototype,"pop",void 0),c([s(cc.Node)],e.prototype,"pop2",void 0),c([s(cc.Node)],e.prototype,"gate",void 0),c([s(cc.Label)],e.prototype,"lbCountCus",void 0),c([s(cc.Node)],e.prototype,"listCus",void 0),c([s(cc.Node)],e.prototype,"listCus2",void 0),c([s(cc.Node)],e.prototype,"house0",void 0),c([s(cc.Node)],e.prototype,"house1",void 0),c([s(cc.Node)],e.prototype,"house2",void 0),c([s(cc.Node)],e.prototype,"house3",void 0),c([s(cc.Node)],e.prototype,"house4",void 0),c([s(cc.SpriteFrame)],e.prototype,"popRed",void 0),c([s(cc.SpriteFrame)],e.prototype,"popRedGreen",void 0),c([s(cc.Node)],e.prototype,"listHand",void 0),c([s(cc.Node)],e.prototype,"tree",void 0),c([s(cc.Animation)],e.prototype,"text",void 0),c([s(cc.Label)],e.prototype,"lbWood",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([s(cc.Node)],e.prototype,"woodBar",void 0),c([s(cc.AudioClip)],e.prototype,"soundUd",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundGio",void 0),c([s(cc.AudioClip)],e.prototype,"soundClick",void 0),c([s(cc.AudioClip)],e.prototype,"soundChatGo",void 0),c([s(cc.AudioClip)],e.prototype,"soundlanhCanRang",void 0),c([s(cc.AudioClip)],e.prototype,"soundYee",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],YC_2:[function(t,e,o){"use strict";cc._RF.push(e,"d9302VDbb5Gs5HHYas2kVY8","YC_2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),globalThis.countChar=20;var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.charStart=null,e.mainCamera=null,e.cardList=null,e.fire=null,e.boxChat=null,e.listChar0=[],e.listChar=[],e.listChar2=null,e.listBed=null,e.Scene1=null,e.Scene2=null,e.Scene3=null,e.Scene4=null,e.charScene3=null,e.charScene4=null,e.bep=null,e.endcard=null,e.hand=null,e.soundBg=null,e.soundNhanGo=null,e.soundChatGo=null,e.soundGioThoi=null,e.soundUpgrade=null,e.soundRang=null,e.sounLonKeu=null,e.soundDapChao=null,e.soundUhh=null,e.soundZee=null,e.isId=0,e.isvertical=!1,e}return i(e,t),e.prototype.start=function(){cc.audioEngine.play(this.soundBg,!0,.8),this.isId=cc.audioEngine.play(this.soundRang,!0,.5),cc.audioEngine.play(this.soundGioThoi,!0,.8),this.init()},e.prototype.init=function(){var t=this;this.charStart.getComponent(C).setBarBlood(.8),cc.tween(this.charStart).to(.8,{position:cc.v3(286,-46)}).delay(.5).call(function(){for(var e=0,o=t.listChar0;e<o.length;e++)o[e].getComponent(C).die();t.scheduleOnce(function(){t.move1()},.5)}).start(),cc.tween(this.mainCamera).to(.8,{zoomRatio:1}).start()},e.prototype.move1=function(){var t=this;cc.tween(this.mainCamera.node).to(.6,{position:cc.v3(-1740,100)}).start(),cc.tween(this.mainCamera).to(.6,{zoomRatio:.6}).start(),this.scheduleOnce(function(){t.cardList.children[0].active=!0,t.cardList.children[1].active=!0,t.hand.active=!0,t.Scene1.active=!1,t.boxChat.active=!0},.6)},e.prototype.card1=function(t,e){this.hand.active=!1,cc.audioEngine.stop(this.isId),cc.audioEngine.play(this.soundUpgrade,!1,1),cc.audioEngine.play(this.soundZee,!1,1),1==e?(this.Scene2.getComponent(cc.Animation).play("offBox"),this.offCard(1)):2==e&&(this.Scene2.getComponent(cc.Animation).play("choose2"),this.offCard(2))},e.prototype.card2=function(t,e){var o=this;if(cc.audioEngine.play(this.soundUpgrade,!1,1),cc.audioEngine.play(this.soundZee,!1,1),this.hand.active=!1,this.cardList.children[2].getComponent(cc.Animation).play("card_off"),this.cardList.children[3].getComponent(cc.Animation).play("card_off"),cc.tween(this.mainCamera.node).by(.6,{position:cc.v3(300,250)}).start(),this.Scene4.active=!0,1==e){this.Scene3.getComponent(cc.Animation).play("choose1"),this.charScene3.getComponent(cc.Animation).play("move1");for(var n=function(t){var e=Math.floor(5*Math.random());i.scheduleOnce(function(){t.getComponent(C).die()},1.3+.1*e)},i=this,c=0,a=this.listChar2.children;c<a.length;c++)n(a[c]);this.scheduleOnce(function(){cc.tween(o.mainCamera.node).to(.8,{position:cc.v3(-2100,-1100)}).call(function(){o.scheduleOnce(function(){o.charScene4.getComponent(C).angry(),o.bep.setAnimation(0,"Idle_NoFire",!0)},.5)}).delay(.8).to(.3,{position:cc.v3(-2550,-919)}).start(),cc.tween(o.mainCamera).to(.8,{zoomRatio:1.2}).delay(.8).to(.3,{zoomRatio:.7}).call(function(){o.cardList.children[4].active=!0,o.cardList.children[5].active=!0,o.hand.active=!0}).start()},2.8)}else this.Scene3.getComponent(cc.Animation).play("choose2"),this.charScene3.getComponent(cc.Animation).play("move1"),this.scheduleOnce(function(){o.listChar2.children[0].getComponent(cc.Animation).play("move1")},.4),this.scheduleOnce(function(){o.listChar2.children[1].getComponent(cc.Animation).play("move1")},1),this.scheduleOnce(function(){o.moveChar(o.listChar2.children[2],o.listBed.children[3].position)},1.6),this.scheduleOnce(function(){cc.tween(o.mainCamera.node).to(.8,{position:cc.v3(-2100,-1100)}).call(function(){o.scheduleOnce(function(){o.charScene4.getComponent(C).angry(),o.bep.setAnimation(0,"Idle_NoFire",!0)},.5)}).delay(.8).to(.3,{position:cc.v3(-2550,-919)}).start(),cc.tween(o.mainCamera).to(.8,{zoomRatio:1.2}).delay(.8).to(.3,{zoomRatio:.7}).call(function(){o.cardList.children[4].active=!0,o.cardList.children[5].active=!0,o.hand.active=!0}).start()},2.8)},e.prototype.onEndGame=function(){this.endcard.active=!0},e.prototype.moveChar=function(t,e){e=this.listBed.convertToWorldSpaceAR(e),e=this.listChar2.convertToNodeSpaceAR(e),t.getComponent(C).walk(),cc.tween(t).to(2.3,{position:e}).call(function(){t.getComponent(C).sleep()}).start()},e.prototype.offCard=function(t){var e=this;this.cardList.children[0].getComponent(cc.Animation).play("card_off"),this.cardList.children[1].getComponent(cc.Animation).play("card_off");for(var o=0,n=this.listChar;o<n.length;o++)n[o].getComponent(C).getHappy();cc.tween(this.mainCamera).to(.6,{zoomRatio:.9}).start(),this.scheduleOnce(function(){cc.tween(e.fire).to(.3,{scale:0}).start()},1.1),1==t&&(this.scheduleOnce(function(){for(var t=0,o=e.listChar;t<o.length;t++)o[t].getComponent(C).getCold()},1),this.scheduleOnce(function(){for(var t=0,o=e.listChar;t<o.length;t++)o[t].getComponent(C).die()},1.4)),this.scheduleOnce(function(){cc.tween(e.mainCamera.node).to(.6,{position:cc.v3(-4169,200)}).start(),cc.tween(e.mainCamera).to(.6,{zoomRatio:.7}).start(),e.scheduleOnce(function(){e.cardList.children[2].active=!0,e.cardList.children[3].active=!0,e.hand.active=!0},.6)},1.8)},e.prototype.update=function(){var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.endcard.getChildByName("banner1").active=!0,this.endcard.getChildByName("banner2").active=!1):(this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1,this.endcard.getChildByName("banner1").active=!1,this.endcard.getChildByName("banner2").active=!0)},c([s(cc.Node)],e.prototype,"charStart",void 0),c([s(cc.Camera)],e.prototype,"mainCamera",void 0),c([s(cc.Node)],e.prototype,"cardList",void 0),c([s(cc.Node)],e.prototype,"fire",void 0),c([s(cc.Node)],e.prototype,"boxChat",void 0),c([s(cc.Node)],e.prototype,"listChar0",void 0),c([s(cc.Node)],e.prototype,"listChar",void 0),c([s(cc.Node)],e.prototype,"listChar2",void 0),c([s(cc.Node)],e.prototype,"listBed",void 0),c([s(cc.Node)],e.prototype,"Scene1",void 0),c([s(cc.Node)],e.prototype,"Scene2",void 0),c([s(cc.Node)],e.prototype,"Scene3",void 0),c([s(cc.Node)],e.prototype,"Scene4",void 0),c([s(cc.Node)],e.prototype,"charScene3",void 0),c([s(cc.Node)],e.prototype,"charScene4",void 0),c([s(sp.Skeleton)],e.prototype,"bep",void 0),c([s(cc.Node)],e.prototype,"endcard",void 0),c([s(cc.Node)],e.prototype,"hand",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundNhanGo",void 0),c([s(cc.AudioClip)],e.prototype,"soundChatGo",void 0),c([s(cc.AudioClip)],e.prototype,"soundGioThoi",void 0),c([s(cc.AudioClip)],e.prototype,"soundUpgrade",void 0),c([s(cc.AudioClip)],e.prototype,"soundRang",void 0),c([s(cc.AudioClip)],e.prototype,"sounLonKeu",void 0),c([s(cc.AudioClip)],e.prototype,"soundDapChao",void 0),c([s(cc.AudioClip)],e.prototype,"soundUhh",void 0),c([s(cc.AudioClip)],e.prototype,"soundZee",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],YC_4:[function(t,e,o){"use strict";cc._RF.push(e,"60fdcCgLT5FkqDP46wZTMeH","YC_4");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainCamera=null,e.listChar1=null,e.listChar2=null,e.popStop=null,e.listCardNode=null,e.hand=null,e.scene1=null,e.scene2=null,e.fire=null,e.bep=null,e.endcard=null,e.linkToStore=null,e.listBlanket=null,e.preWood=null,e.soundBg=null,e.soundGioThoi=null,e.soundUpgrade=null,e.soundRang=null,e.soundZee=null,e.isvertical=!1,e}return i(e,t),e.prototype.start=function(){var t=this;cc.audioEngine.play(this.soundGioThoi,!0,.8),cc.audioEngine.play(this.soundBg,!0,.8),window.gameReady&&window.gameReady(),this.scheduleOnce(function(){t.moveCamera()},.2)},e.prototype.moveCamera=function(){var t=this;cc.tween(this.mainCamera.node).by(2.6,{position:cc.v3(800,100)}).start(),cc.tween(this.mainCamera).to(2.6,{zoomRatio:.7}).call(function(){t.scheduleOnce(function(){t.moveCamera2()},.4)}).start(),this.scheduleOnce(function(){t.scene1.getComponent(cc.Animation).getAnimationState("scene1_move").speed=.3},2)},e.prototype.moveCamera2=function(){var t=this;cc.tween(this.mainCamera.node).by(.45,{position:cc.v3(100,-100)}).start(),cc.tween(this.mainCamera).to(.45,{zoomRatio:1.2}).call(function(){t.turnPop1()}).start()},e.prototype.turnPop1=function(){this.listCardNode.children[0].active=!0,this.listCardNode.children[1].active=!0,this.hand.active=!0},e.prototype.btn1=function(){var t=this;cc.audioEngine.play(this.soundUpgrade,!1,1),this.hand.active=!1,this.listCardNode.children[0].getComponent(cc.Animation).play("card_off"),this.listCardNode.children[1].getComponent(cc.Animation).play("card_off"),this.scheduleOnce(function(){t.popStop.active=!0},1),this.scheduleOnce(function(){for(var e=0,o=t.listChar1.children;e<o.length;e++){var n=o[e];n.getComponent(C).getCold(),n.getChildByName("status").active=!1}t.scene1.getComponent(cc.Animation).stop("scene1_move")},1.2),this.scheduleOnce(function(){for(var e=0,o=t.listChar1.children;e<o.length;e++)o[e].getComponent(C).die()},1.7),this.scene2.getComponent(cc.Animation).play("scene2_stop"),this.listChar2.children[3].getComponent(C).atkIdle(),this.listChar2.children[4].getComponent(C).atkIdle(),this.scheduleOnce(function(){t.listChar2.children[3].getComponent(C).atkIdle2(),t.listChar2.children[4].getComponent(C).atkIdle2()},1),this.scheduleOnce(function(){cc.tween(t.mainCamera.node).by(.45,{position:cc.v3(500,100)}).start(),cc.tween(t.mainCamera).to(.45,{zoomRatio:1}).call(function(){t.turnPop2()}).start(),t.popStop.active=!1},2)},e.prototype.btn2=function(){var t=this;cc.audioEngine.play(this.soundUpgrade,!1,1),this.hand.active=!1,this.listCardNode.children[0].getComponent(cc.Animation).play("card_off"),this.listCardNode.children[1].getComponent(cc.Animation).play("card_off"),this.scene1.getComponent(cc.Animation).getAnimationState("scene1_move").stop(),this.listChar1.children[0].getComponent(C).setDf(),this.listChar1.children[2].getComponent(C).setDf(),cc.tween(this.listChar1.children[0]).to(1.5,{position:cc.v3(-253,-110)}).call(function(){t.listChar1.children[0].getComponent(C).getHappy(),t.listChar1.children[2].getComponent(C).getHappy(),t.listChar1.children[2].parent=t.listChar2,t.listChar1.children[0].parent=t.listChar2,cc.audioEngine.play(t.soundZee,!1,1);for(var e=0,o=t.listChar1.children;e<o.length;e++)o[e].getComponent(C).die()}).start(),cc.tween(this.listChar1.children[2]).to(1.5,{position:cc.v3(-126,-120)}).start(),this.scheduleOnce(function(){cc.tween(t.mainCamera.node).by(.45,{position:cc.v3(500,100)}).start(),cc.tween(t.mainCamera).to(.45,{zoomRatio:1}).call(function(){t.turnPop2()}).start(),t.popStop.active=!1},2)},e.prototype.turnPop2=function(){var t=this;this.scheduleOnce(function(){cc.audioEngine.play(t.soundRang,!1,.8);for(var e=function(e){t.scheduleOnce(function(){t.listChar2.children[e].getComponent(C).getCold()},.04*e)},o=0;o<t.listChar2.childrenCount;o++)e(o);t.fire.scale=1.5},.3),this.scheduleOnce(function(){t.hand.active=!0,t.listCardNode.children[2].active=!0,t.listCardNode.children[3].active=!0},1)},e.prototype.btn3=function(){var t=this;cc.audioEngine.play(this.soundUpgrade,!1,1),this.hand.active=!1,this.listCardNode.children[2].getComponent(cc.Animation).play("card_off"),this.listCardNode.children[3].getComponent(cc.Animation).play("card_off"),this.listChar2.children[5].getComponent(C).walkSad(),this.listChar2.children[6].getComponent(C).walkSad(),this.listChar2.children[3].getComponent(C).walkSad(),this.listChar2.children[4].getComponent(C).walkSad(),this.listChar2.childrenCount>=8&&(this.listChar2.children[7].getComponent(C).walkSad(),this.listChar2.children[8].getComponent(C).walkSad(),cc.tween(this.listChar2.children[7]).to(1.5,{position:cc.v3(-700,-394)}).start(),cc.tween(this.listChar2.children[8]).to(1.5,{position:cc.v3(-700,-394)}).start(),this.scheduleOnce(function(){t.listChar2.children[7].getComponent(C).die(),t.listChar2.children[8].getComponent(C).die()},2.8)),cc.tween(this.listChar2.children[3]).to(2,{position:cc.v3(-500,-394)}).start(),cc.tween(this.listChar2.children[4]).to(2,{position:cc.v3(-500,-394)}).start(),this.scheduleOnce(function(){t.listChar2.children[5].getComponent(C).die(),t.listChar2.children[6].getComponent(C).die(),t.listChar2.children[3].getComponent(C).die(),t.listChar2.children[4].getComponent(C).die(),t.step3(0)},2.8),this.scene2.getComponent(cc.Animation).play("scene2_move")},e.prototype.btn4=function(){var t=this;cc.audioEngine.play(this.soundUpgrade,!1,1),this.hand.active=!1,this.listCardNode.children[2].getComponent(cc.Animation).play("card_off"),this.listCardNode.children[3].getComponent(cc.Animation).play("card_off"),this.listBlanket.children[2].active=!0,this.listBlanket.children[3].active=!0;for(var e=0,o=this.listChar2.children;e<o.length;e++)o[e].getChildByName("status").active=!1;this.scheduleOnce(function(){t.listBlanket.children[0].active=!1,t.listBlanket.children[1].active=!1,t.createWood(t.listBlanket.children[0].position),t.createWood(t.listBlanket.children[1].position)},.2),this.scheduleOnce(function(){t.fire.scale=2.4,cc.audioEngine.play(t.soundUpgrade,!1,1)},.7),this.scheduleOnce(function(){t.step3(1)},1.6)},e.prototype.createWood=function(t){for(var e=this,o=function(o){t=n.listBlanket.convertToWorldSpaceAR(t),t=n.listBlanket.convertToNodeSpaceAR(t);var i=cc.instantiate(n.preWood);i.parent=n.bep,i.position=t,cc.tween(i).delay(.08*o).to(.3,{position:cc.v3(0,0)}).call(function(){i.children[0].active=!0,e.scheduleOnce(function(){i.destroy()},.3)}).start()},n=this,i=0;i<2;i++)o(i)},e.prototype.step3=function(t){var e=this;this.scheduleOnce(function(){if(0==t)e.listChar2.children[0].getComponent(C).hungry(),e.listChar2.children[1].getComponent(C).hungry(),e.listChar2.children[2].getComponent(C).hungry();else for(var o=function(t){e.scheduleOnce(function(){e.listChar2.children[t].getComponent(C).hungry()},.04*t)},n=0;n<e.listChar2.childrenCount;n++)o(n);e.fire.active=!1,e.bep.getComponent(sp.Skeleton).setAnimation(0,"Idle",!0),e.scheduleOnce(function(){e.listCardNode.children[4].active=!0,e.listCardNode.children[5].active=!0},.5),e.scheduleOnce(function(){e.hand.active=!0,e.linkToStore.active=!0},.8)},.3)},e.prototype.update=function(){var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.endcard.getChildByName("banner1").active=!0,this.endcard.getChildByName("banner2").active=!1):(this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1,this.endcard.getChildByName("banner1").active=!1,this.endcard.getChildByName("banner2").active=!0)},c([s(cc.Camera)],e.prototype,"mainCamera",void 0),c([s(cc.Node)],e.prototype,"listChar1",void 0),c([s(cc.Node)],e.prototype,"listChar2",void 0),c([s(cc.Node)],e.prototype,"popStop",void 0),c([s(cc.Node)],e.prototype,"listCardNode",void 0),c([s(cc.Node)],e.prototype,"hand",void 0),c([s(cc.Node)],e.prototype,"scene1",void 0),c([s(cc.Node)],e.prototype,"scene2",void 0),c([s(cc.Node)],e.prototype,"fire",void 0),c([s(cc.Node)],e.prototype,"bep",void 0),c([s(cc.Node)],e.prototype,"endcard",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([s(cc.Node)],e.prototype,"listBlanket",void 0),c([s(cc.Prefab)],e.prototype,"preWood",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundGioThoi",void 0),c([s(cc.AudioClip)],e.prototype,"soundUpgrade",void 0),c([s(cc.AudioClip)],e.prototype,"soundRang",void 0),c([s(cc.AudioClip)],e.prototype,"soundZee",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],YC_5:[function(t,e,o){"use strict";cc._RF.push(e,"06982KoOlxMqadPNMr6VHII","YC_5");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bep=null,e.char=null,e.mainCamera=null,e.listTree=null,e.land=null,e.hand1=null,e.hand2=null,e.hand3=null,e.hand4=null,e.hand5=null,e.luoi=null,e.river=null,e.river2=null,e.uiNode=null,e.listCard=null,e.woodFarm=null,e.bomb=null,e.pop=null,e.house=null,e.fxShow=null,e.listChar=null,e.pop2=null,e.linkToSotre=null,e.charComp=null,e.isvertical=!1,e.isHand2=!1,e.soundBg=null,e.soundud=null,e.soundClick=null,e.soundbomb=null,e.soundZee=null,e.soundPut=null,e.isPut=!1,e.isWater=!1,e}return i(e,t),e.prototype.start=function(){var t=this;window.gameReady&&window.gameReady(),this.charComp=this.char.getComponent("character"),this.scheduleOnce(function(){t.bep.getComponent(cc.Animation).play("bep_tat"),t.charComp.getCold()},1),this.scheduleOnce(function(){cc.tween(t.mainCamera.node).to(.5,{position:cc.v3(2500,-80)}).start()},1.5),cc.audioEngine.play(this.soundBg,!0,.8)},e.prototype.btn1=function(t){var e=this;cc.audioEngine.play(this.soundClick,!1,.8),this.hand1.active=!1;var o=t.currentTarget;o.getComponent(cc.Button).enabled=!1;var n=o.parent.convertToWorldSpaceAR(o.position);n=this.listTree.convertToNodeSpaceAR(n);for(var i=0,c=this.listTree.children;i<c.length;i++)for(var a=0,r=c[i].children;a<r.length;a++){var s=r[a],l=Math.floor(3*Math.random());s.x<n.x?cc.tween(s).delay(.1*l).to(.2,{angle:-90}).start():cc.tween(s).delay(.1*l).to(.2,{angle:90}).start()}this.land.getChildByName("River").active=!0,this.scheduleOnce(function(){cc.tween(e.mainCamera.node).to(.3,{position:cc.v3(1900,-400)}).call(function(){e.luoi.active=!0,e.scheduleOnce(function(){e.hand2.active=!0,e.addEventListener()},.3)}).start()},.6)},e.prototype.addEventListener=function(){this.uiNode.on(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.uiNode.on(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.uiNode.on(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this)},e.prototype.touchStartEvent=function(){cc.audioEngine.play(this.soundClick,!1,.8)},e.prototype.touchMoveEvent=function(){},e.prototype.touchEndEvent=function(){console.log("okei"),this.isWater||(this.offEventListener(),this.isWater=!0)},e.prototype.offEventListener=function(){var t=this;this.uiNode.off(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.uiNode.off(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.uiNode.off(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this),this.luoi.active=!1,this.river.active=!0,this.hand2.active=!1,this.land.getComponent(cc.Animation).play("mo_song"),this.scheduleOnce(function(){t.river2.active=!0,t.moveTree()},.3)},e.prototype.moveTree=function(){var t=this;this.listTree.getComponent(cc.Animation).play("tree"),this.scheduleOnce(function(){t.showCard1()},1)},e.prototype.showCard1=function(){var t=this;this.listCard.children[0].active=!0,this.listCard.children[1].active=!0,this.scheduleOnce(function(){t.hand3.active=!0},.4)},e.prototype.transWood=function(){var t=this,e=0,o=this.pop.parent.convertToWorldSpaceAR(this.pop.position);o=this.charComp.bag.convertToNodeSpaceAR(o).add(cc.v3(0,80));for(var n=this.pop.getChildByName("fill").getComponent(cc.Sprite),i=function(i){e++;var a=c.charComp.bag.children[i],r=cc.v2((a.x+o.x)/2,a.y+350);cc.tween(a).delay(.08*e).parallel(cc.tween().bezierTo(.4,cc.v2(a.x,a.y),r,cc.v2(o.x,o.y)),cc.tween().by(.4,{angle:-360}).call(function(){n.fillRange+=1/8,a.destroy(),t.isPut||(t.isPut=!0,cc.audioEngine.play(t.soundPut,!1,.8),t.scheduleOnce(function(){t.isPut=!1},.12)),0==i?(console.log("full"),cc.tween(t.pop).to(.1,{scale:1.5}).start(),t.hand4.active=!0,t.pop.children[0].getComponent(cc.Button).enabled=!0):t.pop.getComponent(cc.Animation).play()})).start()},c=this,a=this.charComp.bag.childrenCount-1;a>=0;a--)i(a)},e.prototype.btn_2=function(){var t=this;cc.audioEngine.play(this.soundClick,!1,.8),cc.audioEngine.play(this.soundud,!1,.8),this.house.active=!0,this.hand4.active=!1,cc.tween(this.mainCamera).by(.3,{zoomRatio:-.2}).start(),this.bep.active=!0,this.fxShow.active=!0,this.scheduleOnce(function(){t.phase3()},1)},e.prototype.phase3=function(){var t=this;this.listChar.active=!0;var e=[cc.v3(101,73),cc.v3(180,-180),cc.v3(-275,-195),cc.v3(-41,-254)];cc.audioEngine.play(this.soundZee,!1,.4);for(var o=function(o){n.listChar.children[o].getComponent("character").runPos(e[o],.7),n.scheduleOnce(function(){t.listChar.children[o].getComponent("character").getHappy()},.75)},n=this,i=0;i<this.listChar.childrenCount;i++)o(i);this.charComp.getHappy(),this.scheduleOnce(function(){t.phase4()},1.3)},e.prototype.phase4=function(){var t=this;this.pop2.active=!0,this.pop2.getComponent(cc.Animation).play();var e=[cc.v3(1245,-675),cc.v3(1271,-813),cc.v3(1369,-979),cc.v3(1281.075,-927.336)];cc.tween(this.mainCamera.node).to(2,{position:cc.v3(1700,-400)}).start();for(var o=function(o){n.listChar.children[o].getComponent("character").runPos(e[o],2),n.scheduleOnce(function(){t.listChar.children[o].getComponent("character").idle(),o==t.listChar.childrenCount-1?t.listChar.children[o].getComponent("character").addWood(null,!0):t.listChar.children[o].getComponent("character").addWood(null,!1)},2)},n=this,i=0;i<this.listChar.childrenCount;i++)o(i);this.charComp.runPos(cc.v3(1243,-589),2),this.scheduleOnce(function(){t.charComp.idle(),t.charComp.addWood(null)},2),this.scheduleOnce(function(){t.phase5()},3)},e.prototype.phase5=function(){var t=this,e=[cc.v3(101,73),cc.v3(180,-180),cc.v3(-275,-195),cc.v3(-41,-254)];cc.tween(this.mainCamera.node).to(2,{position:cc.v3(0,0)}).start(),this.charComp.runPos(cc.v3(244,-93),2),this.scheduleOnce(function(){t.charComp.idle()},2),this.scheduleOnce(function(){t.transWood2(t.char)},2.4);for(var o=function(o){n.listChar.children[o].getComponent("character").runPos(e[o],2),n.scheduleOnce(function(){t.listChar.children[o].getComponent("character").idle()},2.2),n.scheduleOnce(function(){for(var e=function(e){var o=t.listChar.children[e];t.scheduleOnce(function(){t.transWood2(o)},.07*e)},o=0;o<t.listChar.childrenCount;o++)e(o)},2.4),n.scheduleOnce(function(){cc.tween(t.pop2).to(.2,{scale:1.5}).start(),t.hand5.active=!0,t.linkToSotre.active=!0},3.8)},n=this,i=0;i<this.listChar.childrenCount;i++)o(i)},e.prototype.btn_chooseCard=function(t,e){var o=this;this.hand3.active=!1,"1"==e&&(cc.audioEngine.play(this.soundbomb,!1,.8),cc.audioEngine.play(this.soundClick,!1,.8),this.listCard.children[0].getComponent(cc.Animation).play("card_off"),this.listCard.children[1].getComponent(cc.Animation).play("card_off"),this.scheduleOnce(function(){o.bomb.active=!0},.3),this.scheduleOnce(function(){o.woodFarm.active=!0,o.listTree.destroy()},.6),this.scheduleOnce(function(){cc.tween(o.mainCamera.node).to(.5,{position:cc.v3(0,0)}).delay(.5).call(function(){o.charComp.run(cc.v3(1184,-637))}).to(1,{position:cc.v3(1500,-400)}).start()},1.2))},e.prototype.phase2=function(){cc.tween(this.mainCamera.node).to(2,{position:cc.v3(0,0)}).start()},e.prototype.transWood2=function(t){var e=this,o=0,n=t.getComponent("character").bag,i=this.pop.parent.convertToWorldSpaceAR(this.pop.position);i=n.convertToNodeSpaceAR(i).add(cc.v3(0,80));for(var c=this.pop2.getChildByName("fill").getComponent(cc.Sprite),a=function(t){console.log("transWood2sss"),o++;var a=n.children[t],r=cc.v2((a.x+i.x)/2,a.y+350);cc.tween(a).delay(.08*o).parallel(cc.tween().bezierTo(.4,cc.v2(a.x,a.y),r,cc.v2(i.x,i.y)),cc.tween().by(.4,{angle:-360}).call(function(){c.fillRange+=.05,a.destroy(),e.isPut||(e.isPut=!0,cc.audioEngine.play(e.soundPut,!1,.8),e.scheduleOnce(function(){e.isPut=!1},.12)),e.pop2.getComponent(cc.Animation).play()})).start()},r=n.childrenCount-1;r>=0;r--)a(r)},e.prototype.update=function(){var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.mainCamera.zoomRatio=.9):(this.mainCamera.zoomRatio=1.5,this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1)},c([s(cc.Node)],e.prototype,"bep",void 0),c([s(cc.Node)],e.prototype,"char",void 0),c([s(cc.Camera)],e.prototype,"mainCamera",void 0),c([s(cc.Node)],e.prototype,"listTree",void 0),c([s(cc.Node)],e.prototype,"land",void 0),c([s(cc.Node)],e.prototype,"hand1",void 0),c([s(cc.Node)],e.prototype,"hand2",void 0),c([s(cc.Node)],e.prototype,"hand3",void 0),c([s(cc.Node)],e.prototype,"hand4",void 0),c([s(cc.Node)],e.prototype,"hand5",void 0),c([s(cc.Node)],e.prototype,"luoi",void 0),c([s(cc.Node)],e.prototype,"river",void 0),c([s(cc.Node)],e.prototype,"river2",void 0),c([s(cc.Node)],e.prototype,"uiNode",void 0),c([s(cc.Node)],e.prototype,"listCard",void 0),c([s(cc.Node)],e.prototype,"woodFarm",void 0),c([s(cc.Node)],e.prototype,"bomb",void 0),c([s(cc.Node)],e.prototype,"pop",void 0),c([s(cc.Node)],e.prototype,"house",void 0),c([s(cc.Node)],e.prototype,"fxShow",void 0),c([s(cc.Node)],e.prototype,"listChar",void 0),c([s(cc.Node)],e.prototype,"pop2",void 0),c([s(cc.Node)],e.prototype,"linkToSotre",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundud",void 0),c([s(cc.AudioClip)],e.prototype,"soundClick",void 0),c([s(cc.AudioClip)],e.prototype,"soundbomb",void 0),c([s(cc.AudioClip)],e.prototype,"soundZee",void 0),c([s(cc.AudioClip)],e.prototype,"soundPut",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],YC_6:[function(t,e,o){"use strict";cc._RF.push(e,"296d2773VBGGb0b9n0oZgkE","YC_6");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property;globalThis.step=0;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listChar=null,e.mainCamera=null,e.fill=null,e.isStep=0,e.house=null,e.buildingHouse1=null,e.buildingHouse2=null,e.house2=null,e.uiNode=null,e.hand1=null,e.hand2=null,e.isvertical=!1,e.endcard=null,e.listTree=[],e.pop1=null,e.pop2=null,e.preWood=null,e.listHouseNew=null,e.winFx=null,e.linkToStore=null,e.soundBg=null,e.soundUd=null,e.soundPut=null,e.circle=null,e.Joystick=null,e.test=null,e.isScale=1,e.moveDir=null,e.speed=1e3,e.directionX=null,e.isRun=!0,e.check2=!1,e}return i(e,t),e.prototype.start=function(){var t=this;cc.audioEngine.play(this.soundBg,!0,.5);var e=[cc.v3(1212,-249),cc.v3(552,-306)];this.listChar.children[1].getComponent(C).tree=this.listTree[1],this.listChar.children[2].getComponent(C).tree=this.listTree[0],this.listChar.children[0].getComponent(C).tree=this.listTree[2],this.fitImg(),this.scheduleOnce(function(){cc.tween(t.mainCamera.node).to(2,{position:cc.v3(400,0)}).start(),cc.tween(t.circle).to(1.5,{scaleX:2.55,scaleY:1.7}).start(),cc.tween(t.fill).to(1,{fillRange:.3}).call(function(){t.fill.node.parent.getChildByName("lb").getComponent(cc.Label).string="-50\xb0c"}).start(),t.listChar.children[1].getComponent(C).runPos(e[0],.3),t.scheduleOnce(function(){t.listChar.children[1].getComponent(C).getIce(),t.listChar.children[1].getComponent(C).onPause()},.3),t.scheduleOnce(function(){t.listChar.children[2].getComponent(C).getIce(),t.listChar.children[2].getComponent(C).onPause()},.5),t.scheduleOnce(function(){t.listChar.children[0].getComponent(C).runPos(e[1],1),t.scheduleOnce(function(){t.listChar.children[0].getComponent(C).angry(),cc.tween(t.mainCamera).to(.6,{zoomRatio:.5}).start(),cc.tween(t.mainCamera.node).to(.6,{position:t.house.position.add(cc.v3(0,200))}).call(function(){t.addEventListener()}).start()},1.2)},.8)},2)},e.prototype.OffEvent=function(){this.uiNode.off(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.uiNode.off(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.uiNode.off(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this)},e.prototype.addEventListener=function(){this.hand1.active=!0,this.isStep=1,this.uiNode.on(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.uiNode.on(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.uiNode.on(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this)},e.prototype.touchStartEvent=function(){},e.prototype.touchMoveEvent=function(t){if(1==this.isStep||3==this.isStep){var e=t.getLocation();e=this.house.parent.convertToNodeSpaceAR(e),this.house.position=e}},e.prototype.touchEndEvent=function(){var t=this;1==this.isStep?(cc.tween(this.house).to(.3,{position:cc.v3(273,-391)}).start(),this.isStep=2,cc.audioEngine.play(this.soundUd,!1,.5),this.buildingHouse1.getChildByName("NhaNgu").active=!0,this.hand1.active=!1,this.listChar.children[1].getComponent(C).cutTree(),this.listChar.children[1].position=cc.v3(1282,-276),this.listChar.children[2].getComponent(C).cutTree(),cc.tween(this.mainCamera).to(.3,{zoomRatio:.8*this.isScale}).call(function(){t.house.getChildByName("pop").active=!0,t.listChar.children[0].getComponent(C).runPos(cc.v3(760,-700),1),t.listChar.children[1].getComponent(C).setTree(t.listTree[1],t.listChar.children[0]),t.listChar.children[3].active=!0,t.listChar.children[3].getComponent(C).runPos(cc.v3(1100,-200),1.5),t.listChar.children[2].getComponent(C).setTree(t.listTree[0],t.listChar.children[3]),t.scheduleOnce(function(){t.listChar.children[3].getComponent(C).idle()},1.5),t.scheduleOnce(function(){t.listChar.children[0].getComponent(C).idle(),globalThis.step=1},1),cc.tween(t.mainCamera.node).to(.8,{position:cc.v3(1103,-302)}).start(),t.scheduleOnce(function(){t.phase2()},3.5)}).start()):3==this.isStep&&(console.log("okei"),this.house.position=cc.v3(1561,921),this.isStep=4,this.hand2.active=!1,cc.tween(this.mainCamera).to(.3,{zoomRatio:.7*this.isScale}).call(function(){t.house.getChildByName("losuoi2").children[1].active=!0,cc.audioEngine.play(t.soundUd,!1,.5),t.scheduleOnce(function(){t.doWood2()},1),t.scheduleOnce(function(){t.listChar.children[1].active=!1,t.listChar.children[2].active=!1,cc.tween(t.mainCamera).to(.3,{zoomRatio:.35*t.isScale}).start(),cc.tween(t.mainCamera.node).to(.3,{position:cc.v3(1e3,700)}).call(function(){t.winFx.active=!0}).start(),t.listHouseNew.active=!0,cc.audioEngine.play(t.soundUd,!1,.5),cc.tween(t.circle).to(1,{scaleX:7.5,scaleY:5}).start()},2.5),t.scheduleOnce(function(){t.OffEvent(),t.linkToStore.active=!0,t.endcard.active=!0},4)}).start(),cc.tween(this.mainCamera.node).to(.8,{position:cc.v3(1950,1100)}).start())},e.prototype.phase2=function(){var t=this;cc.tween(this.mainCamera.node).to(.8,{position:cc.v3(400,-500)}).start(),this.listChar.children[0].getComponent(C).runPos(cc.v3(550,-600),1),this.listChar.children[3].getComponent(C).runPos(cc.v3(550,-400),1),this.scheduleOnce(function(){t.listChar.children[0].getComponent(C).idle(),t.listChar.children[3].getComponent(C).idle(),t.transWood(t.listChar.children[0].getChildByName("bag")),t.transWood(t.listChar.children[3].getChildByName("bag")),globalThis.chatGo=!0},1),this.scheduleOnce(function(){cc.tween(t.mainCamera).to(.3,{zoomRatio:.4*t.isScale}).start(),cc.tween(t.mainCamera.node).to(.3,{position:t.house.position.add(cc.v3(0,200))}).start(),t.scheduleOnce(function(){cc.audioEngine.play(t.soundUd,!1,.5),t.buildingHouse2.getChildByName("NhaNgu").active=!0,t.isStep=3,t.check2=!0,t.Joystick.active=!0,t.hand2.active=!0},.5),t.house.getChildByName("losuoi2").active=!0,cc.tween(t.circle).to(.6,{scaleX:3*1.2,scaleY:2.4}).start(),cc.audioEngine.play(t.soundUd,!1,.5)},2)},e.prototype.transWood=function(t){var e=this,o=0,n=this.pop1.parent.convertToWorldSpaceAR(this.pop1.position);n=t.convertToNodeSpaceAR(n).add(cc.v3(0,80));for(var i=this.pop1.getChildByName("fill").getComponent(cc.Sprite),c=function(c){o++;var a=t.children[c],r=cc.v2((a.x+n.x)/2,a.y+500);cc.tween(a).delay(.08*o).parallel(cc.tween().bezierTo(.4,cc.v2(a.x,a.y),r,cc.v2(n.x,n.y+200)),cc.tween().to(.4,{angle:360,scale:1.7}).call(function(){i.fillRange+=.1,a.destroy(),cc.audioEngine.play(e.soundPut,!1,.5)})).start()},a=t.childrenCount-1;a>=0;a--)c(a)},e.prototype.doWood2=function(){var t=this.house2.getChildByName("listGo"),e=this.house2.getChildByName("listGo2");this.transWood2(t),this.transWood2(e)},e.prototype.transWood2=function(t){var e=this,o=0,n=this.pop2.parent.convertToWorldSpaceAR(this.pop1.position);n=t.convertToNodeSpaceAR(n).add(cc.v3(0,80));for(var i=this.pop2.getChildByName("fill").getComponent(cc.Sprite),c=function(){o++;var c=cc.instantiate(a.preWood);c.position=cc.v3(0,0),c.parent=t;var r=cc.v2((c.x+n.x)/2,c.y+5e3);cc.tween(c).delay(.1*o).parallel(cc.tween().bezierTo(.6,cc.v2(c.x,c.y),r,cc.v2(n.x,n.y+200)),cc.tween().to(.6,{scale:1.7}).call(function(){i.fillRange+=.09,cc.audioEngine.play(e.soundPut,!1,.5),c.destroy()})).start()},a=this,r=t.childrenCount+2;r>=0;r--)c()},e.prototype.update=function(){this.circle.position=this.house.position,1!=this.isStep&&3!=this.isStep||this.mainCamera.node.setPosition(this.house.position.add(cc.v3(0,200)));var t=this.node.getComponent(cc.Canvas);if(cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.isScale=1,this.mainCamera.zoomRatio=.9,this.endcard.getChildByName("banner1").active=!0,this.endcard.getChildByName("banner2").active=!1,this.fitSizeImg(!0)):this.isvertical&&(this.mainCamera.zoomRatio=1.5,this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1,this.isScale=1.5,this.endcard.getChildByName("banner1").active=!1,this.endcard.getChildByName("banner2").active=!0,this.fitSizeImg(!1)),this.moveDir&&this.directionX&&this.isRun&&1==this.check2&&(1==this.isStep||3==this.isStep)){var e=this.house.position.add(this.moveDir.mul(this.speed/60));this.house.setPosition(e)}},e.prototype.fitSizeImg=function(t){if(t)if(cc.winSize.height/cc.winSize.width<1.35){var e=1171/cc.winSize.width;this.endcard.getChildByName("banner1").height=1936/e,this.endcard.getChildByName("banner1").width=cc.winSize.width}else e=1936/cc.winSize.height,this.endcard.getChildByName("banner1").width=1171/e,this.endcard.getChildByName("banner1").height=cc.winSize.height;else console.log("fit2"),cc.winSize.width/cc.winSize.height<1.35?(console.log("fit22"),e=854/cc.winSize.height,this.endcard.getChildByName("banner2").width=1560/e,this.endcard.getChildByName("banner2").height=cc.winSize.height):(e=1560/cc.winSize.width,this.endcard.getChildByName("banner2").height=854/e,this.endcard.getChildByName("banner2").width=cc.winSize.width)},e.prototype.fitImg=function(){var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.mainCamera.zoomRatio=.9,this.isScale=1,this.endcard.getChildByName("banner1").active=!0,this.endcard.getChildByName("banner2").active=!1,this.fitSizeImg(!0)):(this.mainCamera.zoomRatio=1.5,this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1,this.isScale=1.5,this.endcard.getChildByName("banner1").active=!1,this.endcard.getChildByName("banner2").active=!0,this.fitSizeImg(!1))},c([s(cc.Node)],e.prototype,"listChar",void 0),c([s(cc.Camera)],e.prototype,"mainCamera",void 0),c([s(cc.Sprite)],e.prototype,"fill",void 0),c([s(cc.Node)],e.prototype,"house",void 0),c([s(cc.Node)],e.prototype,"buildingHouse1",void 0),c([s(cc.Node)],e.prototype,"buildingHouse2",void 0),c([s(cc.Node)],e.prototype,"house2",void 0),c([s(cc.Node)],e.prototype,"uiNode",void 0),c([s(cc.Node)],e.prototype,"hand1",void 0),c([s(cc.Node)],e.prototype,"hand2",void 0),c([s(cc.Node)],e.prototype,"endcard",void 0),c([s(cc.Node)],e.prototype,"listTree",void 0),c([s(cc.Node)],e.prototype,"pop1",void 0),c([s(cc.Node)],e.prototype,"pop2",void 0),c([s(cc.Prefab)],e.prototype,"preWood",void 0),c([s(cc.Node)],e.prototype,"listHouseNew",void 0),c([s(cc.Node)],e.prototype,"winFx",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundUd",void 0),c([s(cc.AudioClip)],e.prototype,"soundPut",void 0),c([s(cc.Node)],e.prototype,"circle",void 0),c([s(cc.Node)],e.prototype,"Joystick",void 0),c([s(cc.Node)],e.prototype,"test",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],YC_7:[function(t,e,o){"use strict";cc._RF.push(e,"957706E/TRGkoKlBZwdCJX6","YC_7");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),globalThis.ruby=0,globalThis.countChar=99,globalThis.countDownBtn1=!1;var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainCamera=null,e.mainCamera2=null,e.linkToStore=null,e.listCus=null,e.listVetChem=null,e.listGo=null,e.preWood=null,e.transer=null,e.bag=null,e.listCusPre=[],e.listRay=null,e.animCoin=null,e.lbRuby=null,e.logo=null,e.listChar=[],e.soundBg=null,e.soundZee=null,e.soundChat=null,e.soundERR=null,e.soundkhoan=null,e.soundUd=null,e.soundCoin=null,e.listCard1=null,e.listCard2=null,e.bar1=null,e.bar2=null,e.cusBackNode=null,e.noti=null,e.noti2=null,e.endCard=null,e.prePay=null,e.adChanel="Rubeex",e.do=0,e.isvertical=!1,e.isCountChar=0,e.isCountUd=1,e.isCountUdMachine=0,e.isCountUdRoll=0,e.isMoveChar=!1,e.isRay=!1,e.isCountWood=2,e.arrCus=[],e.arrPosWood=[cc.v3(-256.39,53.7,0),cc.v3(-278.48,38.45,0),cc.v3(-303.19,23.2,0),cc.v3(-327.38,7.95,0),cc.v3(-353.36,-6.77,0),cc.v3(-376.52,-20.13,0),cc.v3(-186.6,8.14,0),cc.v3(-208.69,-7.11,0),cc.v3(-233.41,-22.36,0),cc.v3(-257.6,-37.61,0),cc.v3(-283.58,-52.34,0),cc.v3(-306.73,-65.69,0)],e.arrChem2=[cc.v3(222,-125),cc.v3(121,-68),cc.v3(31,-15),cc.v3(-48,39),cc.v3(-129,93),cc.v3(-207,149)],e.isRoll1=0,e.isRoll2=0,e.isRoll3=0,e.isTrans=!1,e.listCard=null,e}return i(e,t),e.prototype.start=function(){for(var t=this,e=0,o=this.listGo.children;e<o.length;e++){var n=o[e];console.log(n.position.toString())}"Mintegral"==this.adChanel&&window.gameReady&&window.gameReady(),cc.audioEngine.play(this.soundBg,!0,.3),this.schedule(function(){t.createWood()},1.2);var i=this.listChar[0];i.active=!0,this.scheduleOnce(function(){i.getChildByName("vfx_chatGo").getComponent(cc.Animation).play(),cc.audioEngine.play(t.soundChat,!1,.2),t.schedule(function(){i.getChildByName("vfx_chatGo").getComponent(cc.Animation).play(),cc.audioEngine.play(t.soundChat,!1,.2)},1.3)},.7);for(var c=0;c<this.listCus.childrenCount;c++)this.arrCus.push(this.listCus.children[c])},e.prototype.startTranser=function(){var t=this;if(!this.isMoveChar&&this.isCountWood>=3&&0==this.isRay){this.isCountWood-=3,this.isMoveChar=!0,console.log("go ne"),this.scheduleOnce(function(){t.transer.getComponent("transer").move1()},.6);for(var e=this.listGo.childrenCount-1,o=e;o>=e-2;o--){var n=this.listGo.children[o],i=this.listGo.convertToWorldSpaceAR(n.position);i=this.bag.convertToNodeSpaceAR(i),n.parent=this.bag,n.position=i;var c=this.bag.childrenCount,a=cc.v2((i.x-24)/2,205.6+20*c);cc.tween(n).delay(.05*c).bezierTo(.3,cc.v2(i.x,i.y),a,cc.v2(24,55.6+20*c)).start()}}},e.prototype.btn_addChar=function(){this.isCountChar>=5||(this.isCountChar++,this.addNewChar())},e.prototype.moveBack=function(){var t=this;this.animCoin.play(),this.lbRuby.getComponent(cc.Animation).play(),globalThis.ruby+=100,cc.audioEngine.play(this.soundCoin,!1,1);for(var e=this.arrCus.length,o=function(o){var i=n.arrCus[o];i.getComponent(C).anim.setAnimation(0,"Walk",!0),o<e-1?cc.tween(i).to(.3,{position:n.arrCus[o+1].position}).call(function(){i.getComponent(C).anim.setAnimation(0,"Idle",!0)}).start():cc.tween(i).by(.3,{position:cc.v3(-66,339-372.219)}).call(function(){i.parent=t.node,i.getComponent(C).anim.setAnimation(0,"Walk",!0),t.arrCus.pop(),t.createNewCus(),i.getComponent(C).getHappy(),cc.tween(i).to(3,{position:cc.v3(-1027,142)}).call(function(){i.destroy()}).start()}).start()},n=this,i=0;i<this.arrCus.length;i++)o(i)},e.prototype.createNewCus=function(){var t=Math.floor(Math.random()*this.listCusPre.length),e=cc.instantiate(this.listCusPre[t]);this.listCus.addChild(e,cc.macro.MIN_ZINDEX),e.position=cc.v3(1001,149),e.zIndex=this.arrCus[0].zIndex-1,e.getComponent(C).idle(),this.arrCus.unshift(e)},e.prototype.createWood=function(){var t=this,e=cc.instantiate(this.preWood);e.parent=this.listGo,this.isCountWood,this.arrPosWood.length;var o=Math.floor(this.isCountWood/this.arrPosWood.length),n=this.isCountWood-o*this.arrPosWood.length,i=this.arrPosWood[n].add(cc.v3(0,12*o+100)),c=this.arrPosWood[n].add(cc.v3(0,12*o));e.position=i,cc.tween(e).to(.15,{position:c}).call(function(){t.startTranser()}).start(),this.isCountWood++},e.prototype.addNewChar=function(){var t=this;this.schedule(function(){t.createWood()},1.2),cc.audioEngine.play(this.soundUd,!1,1),this.listCard1.children[0].getComponent("card").current+=50,this.listCard2.children[0].getComponent("card").current+=50;var e=this.listChar[this.isCountChar];e.active=!0,e.getChildByName("vfx_smoke").getComponent(cc.Animation).play("vfx_smoke"),this.scheduleOnce(function(){cc.audioEngine.play(t.soundChat,!1,.2),e.getChildByName("vfx_chatGo").getComponent(cc.Animation).play(),t.schedule(function(){cc.audioEngine.play(t.soundChat,!1,.2),e.getChildByName("vfx_chatGo").getComponent(cc.Animation).play()},1.3)},.7);for(var o=1;o<e.childrenCount-1;o++)e.children[o].active=!1;this.scheduleOnce(function(){t.listVetChem.children[t.isCountChar].active=!0},.8),e.children[this.isCountUdMachine+1].active=!0},e.prototype.btn_addMachine=function(){if(this.isCountUdMachine>=2)this.linkToStore.getComponent("AdManager").openAdUrl();else{this.isCountUdMachine++,cc.audioEngine.play(this.soundUd,!1,1),this.listCard1.children[1].getComponent("card").current+=1e3,this.listCard2.children[1].getComponent("card").current+=1e3;for(var t=0;t<this.isCountChar+1;t++){for(var e=this.listChar[t],o=1;o<e.childrenCount-1;o++)e.children[o].active=!1,this.listVetChem.children[o].position=this.arrChem2[o].add(cc.v3(20,-40)),this.listVetChem.children[o].scaleX=1.1;this.listVetChem.children[0].position=this.arrChem2[0].add(cc.v3(20,-30)),1==this.isCountUdMachine?e.getChildByName("Cut_Machine").active=!0:2==this.isCountUdMachine&&(e.getChildByName("Cut_Machine2").active=!0),e.getChildByName("vfx_smoke").getComponent(cc.Animation).play()}}},e.prototype.btn_addRoll=function(){var t=this;this.isCountUdRoll>=1?this.linkToStore.getComponent("AdManager").openAdUrl():(this.isCountUdRoll++,cc.audioEngine.play(this.soundUd,!1,1),this.isRay=!0,this.transer.active=!1,this.listCard1.children[2].getComponent("card").current+=800,this.listCard2.children[2].getComponent("card").current+=800,1==this.isCountUdRoll?(this.listRay.getChildByName("vfx_smoke").getComponent(cc.Animation).play(),this.listRay.children[1].active=!0,this.schedule(function(){var e=t.listGo.children[t.listGo.childrenCount-1],o=t.listRay.children[1].children[0];if(e){t.isCountWood-=1;var n=t.listGo.convertToWorldSpaceAR(e.position);n=o.convertToNodeSpaceAR(n),e.parent=o,e.position=n;var i=cc.v2(130,89),c=cc.v2((n.x-24)/2,205.6+20*t.isRoll1);e.stopAllActions(),cc.tween(e).delay(.05*t.isRoll1).bezierTo(.3,cc.v2(n.x,n.y),c,i).call(function(){e.scale=.8}).to(.6,{position:cc.v3(23*t.isRoll1-123.9,20*t.isRoll1-60)}).call(function(){t.isRoll1++,3==t.isRoll1&&(t.isRoll1=0,t.checkTrans(o))}).start()}},.3)):(this.isCountWood-=1,this.listRay.children[0].active=!0,this.listRay.getChildByName("vfx_smoke").getComponent(cc.Animation).play(),this.listRay.children[2].active=!0,this.schedule(function(){var e=t.listGo.children[t.listGo.childrenCount-1],o=t.listRay.children[0].children[0];if(e){var n=t.listGo.convertToWorldSpaceAR(e.position);n=o.convertToNodeSpaceAR(n),e.parent=o,e.position=n,e.stopAllActions();var i=cc.v2(130,89),c=cc.v2((n.x-24)/2,205.6+20*t.isRoll1);cc.tween(e).delay(.05*t.isRoll1).bezierTo(.3,cc.v2(n.x,n.y),c,i).call(function(){3==t.isRoll2&&(t.isRoll2=0,t.checkTrans(o))}).to(.5,{position:cc.v3(23*t.isRoll2-123.9,20*t.isRoll2-60)}).start()}},.3),this.schedule(function(){var e=t.listGo.children[t.listGo.childrenCount-1],o=t.listRay.children[2].children[0];if(e){var n=t.listGo.convertToWorldSpaceAR(e.position);n=o.convertToNodeSpaceAR(n),e.parent=o,e.position=n,e.stopAllActions();var i=cc.v2(130,89),c=cc.v2((n.x-24)/2,205.6+20*t.isRoll1);cc.tween(e).delay(.05*t.isRoll1).bezierTo(.3,cc.v2(n.x,n.y),c,i).to(.5,{position:cc.v3(-123.9,-60)}).call(function(){t.isRoll3++,3==t.isRoll3&&(t.isRoll3=0,t.checkTrans(o))}).start()}},.3)))},e.prototype.checkTrans=function(t){var e=this;if(!this.isTrans){this.isTrans=!0;var o=this.arrCus[this.arrCus.length-1],n=0;if(t.childrenCount>=3){for(var i=function(e){var i=t.children[e];if(i){var c=i.position;c=t.convertToWorldSpaceAR(c),c=o.convertToNodeSpaceAR(c),i.parent=o,i.position=c,n++,i.stopAllActions(),cc.tween(i).delay(.05*n).bezierTo(.3,cc.v2(c.x,c.y),cc.v2(c.x/2,c.y+200),cc.v2(0,50)).call(function(){i.destroy()}).start()}},c=3;c>=0;c--)i(c);this.scheduleOnce(function(){e.isTrans=!1,e.moveBack()},.5)}}},e.prototype.onEndGame=function(){},e.prototype.createPay=function(t){var e=cc.instantiate(this.prePay);e.parent=this.node,e.scaleX=-1,e.position=t},e.prototype.update=function(){var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.listCard=this.listCard1,this.listCard1.active=!0,this.listCard2.active=!1,this.logo.scale=.4,this.logo.getComponent(cc.Widget).left=219,this.logo.getComponent(cc.Widget).top=116,this.endCard.getChildByName("banner1").active=!0,this.endCard.getChildByName("banner2").active=!1,this.mainCamera.node.active=!0,this.mainCamera2.node.active=!1,cc.winSize.height/cc.winSize.width<1.35&&(t.fitHeight=!0)):(this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1,this.listCard=this.listCard2,this.logo.scale=.6,this.logo.getComponent(cc.Widget).left=300,this.logo.getComponent(cc.Widget).top=150,this.listCard1.active=!1,this.listCard2.active=!0,this.endCard.getChildByName("banner1").active=!1,this.endCard.getChildByName("banner2").active=!0,this.mainCamera.node.active=!1,this.mainCamera2.node.active=!0)},c([s(cc.Camera)],e.prototype,"mainCamera",void 0),c([s(cc.Camera)],e.prototype,"mainCamera2",void 0),c([s(cc.Node)],e.prototype,"linkToStore",void 0),c([s(cc.Node)],e.prototype,"listCus",void 0),c([s(cc.Node)],e.prototype,"listVetChem",void 0),c([s(cc.Node)],e.prototype,"listGo",void 0),c([s(cc.Prefab)],e.prototype,"preWood",void 0),c([s(cc.Node)],e.prototype,"transer",void 0),c([s(cc.Node)],e.prototype,"bag",void 0),c([s(cc.Prefab)],e.prototype,"listCusPre",void 0),c([s(cc.Node)],e.prototype,"listRay",void 0),c([s(cc.Animation)],e.prototype,"animCoin",void 0),c([s(cc.Node)],e.prototype,"lbRuby",void 0),c([s(cc.Node)],e.prototype,"logo",void 0),c([s(cc.Node)],e.prototype,"listChar",void 0),c([s(cc.AudioClip)],e.prototype,"soundBg",void 0),c([s(cc.AudioClip)],e.prototype,"soundZee",void 0),c([s(cc.AudioClip)],e.prototype,"soundChat",void 0),c([s(cc.AudioClip)],e.prototype,"soundERR",void 0),c([s(cc.AudioClip)],e.prototype,"soundkhoan",void 0),c([s(cc.AudioClip)],e.prototype,"soundUd",void 0),c([s(cc.AudioClip)],e.prototype,"soundCoin",void 0),c([s(cc.Node)],e.prototype,"listCard1",void 0),c([s(cc.Node)],e.prototype,"listCard2",void 0),c([s(cc.Node)],e.prototype,"bar1",void 0),c([s(cc.Node)],e.prototype,"bar2",void 0),c([s(cc.Node)],e.prototype,"cusBackNode",void 0),c([s(cc.Animation)],e.prototype,"noti",void 0),c([s(cc.Animation)],e.prototype,"noti2",void 0),c([s(cc.Node)],e.prototype,"endCard",void 0),c([s(cc.Prefab)],e.prototype,"prePay",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],animal:[function(t,e,o){"use strict";cc._RF.push(e,"2e308XSWZ1F7bpy830Izbrv","animal");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.hp=100,e.gamePlay=null,e.soundLonKeu=null,e}return i(e,t),e.prototype.start=function(){this.spineListener(),this.gamePlay=cc.Canvas.instance.node.getComponent("game")},e.prototype.idle=function(){this.anim.setAnimation(0,"Idle",!0)},e.prototype.run=function(){this.anim.setAnimation(0,"Move",!0)},e.prototype.attack=function(){this.anim.setAnimation(0,"Attack",!0)},e.prototype.die=function(){this.anim.setAnimation(0,"Dead",!1)},e.prototype.spineListener=function(){var t=this;this.anim.setCompleteListener(function(e){"Spawn"==e.animation.name&&t.idle(),"Spawn"==e.animation.name&&t.idle()})},e.prototype.attacked=function(t){var e=this;this.hp-=t,this.node.children[1].children[1].getComponent(cc.Sprite).fillRange=this.hp/100,this.hp<=0&&(cc.audioEngine.play(this.soundLonKeu,!1,.8),this.die(),this.scheduleOnce(function(){e.node.active=!1,e.gamePlay.btn_upgrade()},.3))},c([s(sp.Skeleton)],e.prototype,"anim",void 0),c([s(cc.AudioClip)],e.prototype,"soundLonKeu",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],anim:[function(t,e,o){"use strict";cc._RF.push(e,"470edFjOUlM1pzciV2uOR6e","anim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.idle=function(){this.node.getComponent(cc.Animation).play("popup_idle")},e.prototype.finish=function(){this.node.parent.destroy()},e.prototype.ds=function(){this.node.destroy()},e.prototype.eff=function(){},e.prototype.dsParent=function(){},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],arena:[function(t,e,o){"use strict";cc._RF.push(e,"8b3a3nORe5Au4O7QsLuPyhF","arena");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentTarget=200,e.fillBar=null,e.isSucess=!1,e.count=0,e.gamePlay=null,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("ICY_19")},e.prototype.upgrade=function(t){var e=this;if(!this.isSucess){this.count+=t;var o=this.count/this.currentTarget;cc.tween(this.fillBar).to(.5,{fillRange:o}).call(function(){e.fillBar.fillRange>=1&&(e.isSucess=!0,"arena1"==e.node.name&&e.gamePlay.updateOpen1(),"arena3"==e.node.name?(cc.tween(e.node).to(.3,{scale:0}).call(function(){e.node.active=!1}).start(),e.gamePlay.farm3.active=!0,e.gamePlay.listArrow.children[5].active=!1,e.gamePlay.listArrow.children[6].active=!0,e.gamePlay.isTargetDraw=e.gamePlay.listArrow.children[6]):"arena4"==e.node.name&&(cc.tween(e.node).to(.3,{scale:0}).call(function(){e.node.active=!1}).start(),e.gamePlay.farm4.active=!0,e.gamePlay.listArrow.children[6].active=!1,e.gamePlay.onEndGame()),console.log("uopdate"))}).start()}},c([s(cc.Integer)],e.prototype,"currentTarget",void 0),c([s(cc.Sprite)],e.prototype,"fillBar",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],barPeople:[function(t,e,o){"use strict";cc._RF.push(e,"9b94cbZzkZFV5PLkeQOUudd","barPeople");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){this.label.string=globalThis.countChar.toString()},c([s(cc.Label)],e.prototype,"label",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],bar:[function(t,e,o){"use strict";cc._RF.push(e,"16b8cL25fZEwJPxyaEawnbU","bar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value="ruby",e.lbCount=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){"ruby"==this.value?this.lbCount.string=globalThis.ruby.toString():this.lbCount.string=globalThis.countChar.toString()+"/99"},c([s(cc.String)],e.prototype,"value",void 0),c([s(cc.Label)],e.prototype,"lbCount",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],bep:[function(t,e,o){"use strict";cc._RF.push(e,"044c0HyTBdDYLbgnyL//EiQ","bep");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],cardList:[function(t,e,o){"use strict";cc._RF.push(e,"08de6gMoqlP5IEDwLhszdv2","cardList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.node.getComponent(cc.Animation).play("card_tut")},.6)},e.prototype.click=function(){var t=this;this.hand.setAnimation(0,"Hand",!1),this.scheduleOnce(function(){t.hand.setAnimation(0,"HandIdle",!1)},.7)},c([s(sp.Skeleton)],e.prototype,"hand",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],card:[function(t,e,o){"use strict";cc._RF.push(e,"b1f20Yp6IdEAoyJul3yVeJ8","card");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconImg=null,e.imgOn=null,e.imgOff=null,e.lbTitle=null,e.lbCurrent=null,e.current=1,e.isFirst=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.setOn=function(){this.isFirst||(this.isFirst=!0,this.node.getChildByName("hand").active=!0),this.iconImg.spriteFrame=this.imgOn,this.lbTitle.color=cc.color().fromHEX("#824420"),this.lbCurrent.color=cc.color().fromHEX("#824420")},e.prototype.clickOff=function(){this.node.getChildByName("hand").active=!1},e.prototype.setOff=function(){this.iconImg.spriteFrame=this.imgOff,this.lbTitle.color=cc.color().fromHEX("#515151"),this.lbCurrent.color=cc.color().fromHEX("#515151")},e.prototype.update=function(){this.lbCurrent.getComponent(cc.Label).string=this.current.toString(),globalThis.ruby>=this.current?this.setOn():this.setOff()},c([s(cc.Sprite)],e.prototype,"iconImg",void 0),c([s(cc.SpriteFrame)],e.prototype,"imgOn",void 0),c([s(cc.SpriteFrame)],e.prototype,"imgOff",void 0),c([s(cc.Node)],e.prototype,"lbTitle",void 0),c([s(cc.Node)],e.prototype,"lbCurrent",void 0),c([s(cc.Integer)],e.prototype,"current",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],car:[function(t,e,o){"use strict";cc._RF.push(e,"8bdc8JYjWFFk7LzBzdo9LJA","car");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bang=null,e.bodySkeleton=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.changeScaleX=function(){this.node.scaleX=-1,this.bang.zIndex=2},e.prototype.changeMove=function(){this.node.scaleX=-1},e.prototype.endao=function(){this.bang.zIndex=0,this.bodySkeleton.setSkin("F"),this.node.scaleX=-1},c([s(cc.Node)],e.prototype,"bang",void 0),c([s(sp.Skeleton)],e.prototype,"bodySkeleton",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],charListener:[function(t,e,o){"use strict";cc._RF.push(e,"021fbGFpt1IuojzmG0GWQi9","charListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./treeListener"),r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.className=null,e.gamePlay=null,e.isFirst=!0,e}return i(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){this.className=this.__classname__,this.gamePlay=cc.Canvas.instance.node.getComponent("ICY_19")},e.prototype.onCollisionEnter=function(t,e){e.getComponent(this.className)&&t.node.getComponent(a.default)&&1==this.node.getComponent("character").isSub&&(t.node.getComponent(cc.CircleCollider).enabled=!1,this.gamePlay.collectEggsSub(t.node)),0==this.node.getComponent("character").isSub&&e.getComponent(this.className)&&t.getComponent(a.default)&&0==this.node.getComponent("character").isSub&&(this.isFirst&&(this.isFirst=!1,this.gamePlay.arrowNode.active=!1,this.gamePlay.listArrow.children[3].active=!0),t.node.getComponent(cc.CircleCollider).enabled=!1,this.gamePlay.collectEggs(t.node))},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(){},c([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./treeListener":"treeListener"}],charScene3:[function(t,e,o){"use strict";cc._RF.push(e,"b2daacmu/dMJ5MZJ7R+a91v","charScene3");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e}return i(e,t),e.prototype.start=function(){},c([s(sp.Skeleton)],e.prototype,"anim",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],cusMission:[function(t,e,o){"use strict";cc._RF.push(e,"2147a0Ce3ZCdIsZ8wX2Vtd8","cusMission");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bread=!0,e.hotDog=!0,e.chili=!1,e.count=3,e.lbCount=null,e.pop=null,e.anim=null,e.isEnd=!1,e.gamePlay=null,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("GameApp")},e.prototype.checkBread=function(t){if(!this.isEnd){var e=t.getComponent("preBread");this.hotDog==e.isHotDog&&this.chili==e.isTuongCa?this.updateMission():(this.isEnd=!0,this.end(!1),cc.audioEngine.play(this.gamePlay.soundWrong,!1,1))}},e.prototype.updateMission=function(){this.count--,this.anim.setAnimation(0,"8.happy",!0),0==this.count&&(this.isEnd=!0,this.end(!0))},e.prototype.end=function(t){var e=this;this.gamePlay.successCus(),this.scheduleOnce(function(){cc.audioEngine.play(e.gamePlay.soundClosePop,!1,1),cc.tween(e.pop).to(.3,{scale:0}).start(),cc.tween(e.node).to(.8,{position:cc.v3(-700,123.591)}).call(function(){e.node.active=!1,e.gamePlay.nextCus()}).start()},.5),1==t?this.anim.setAnimation(0,"8.happy",!1):this.anim.setAnimation(0,"7.angry_idle",!1)},e.prototype.update=function(){this.lbCount.string=this.count.toString()},c([s(cc.Boolean)],e.prototype,"bread",void 0),c([s(cc.Boolean)],e.prototype,"hotDog",void 0),c([s(cc.Boolean)],e.prototype,"chili",void 0),c([s(cc.Integer)],e.prototype,"count",void 0),c([s(cc.Label)],e.prototype,"lbCount",void 0),c([s(cc.Node)],e.prototype,"pop",void 0),c([s(sp.Skeleton)],e.prototype,"anim",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],cus:[function(t,e,o){"use strict";cc._RF.push(e,"0571akWW1pFLLL88KB4RjJb","cus");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){this.node.zIndex=-this.node.y},c([s(cc.Label)],e.prototype,"label",void 0),c([s],e.prototype,"text",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],game:[function(t,e,o){"use strict";cc._RF.push(e,"9d30208n8tBYocShadMPp+o","game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./animal"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainCamera=null,e.char1=null,e.char2=null,e.char3=null,e.pig=null,e.pig2=null,e.arenaWood=null,e.arena2=null,e.arena3=null,e.tree1=null,e.tree2=null,e.tree3=null,e.bulletMain=null,e.hand=null,e.hand2=null,e.hand3=null,e.hand4=null,e.hand5=null,e.popup=null,e.preWood=null,e.bep=null,e.popup2=null,e.house=null,e.smokeEff=null,e.listHouse=[],e.endCard=null,e.lbWood=null,e.soundBg=null,e.soundNhanGo=null,e.soundChatGo=null,e.soundGioThoi=null,e.soundUpgrade=null,e.soundRang=null,e.sounLonKeu=null,e.soundDapChao=null,e.soundUhh=null,e.soundZee=null,e.isvertical=!1,e.isCountWood=0,e.isTarget=null,e.isFollow=!1,e.isMoving=!1,e.isStep=0,e}return i(e,t),e.prototype.start=function(){var t=this;cc.audioEngine.play(this.soundBg,!0,.8),window.gameReady&&window.gameReady(),cc.audioEngine.playEffect(this.soundGioThoi,!0),cc.audioEngine.playEffect(this.soundRang,!0),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_END,this.onTouchCancel,this),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.scheduleOnce(function(){t.popup.active=!0,cc.tween(t.mainCamera).to(.3,{zoomRatio:.8}).start()},.5)},e.prototype.onTouchMove=function(t){if(!this.isMoving)if(this.isTarget){var e=t.getLocation();e=this.isTarget.parent.convertToNodeSpaceAR(e),this.isTarget.position=e}else 1==this.isStep?this.checkTarget(t.getLocation(),this.char3):2==this.isStep?this.checkTarget(t.getLocation(),this.char2):0==this.isStep&&this.checkTarget(t.getLocation(),this.char1)},e.prototype.onTouchCancel=function(t){var e=this;if(!this.isMoving&&this.isTarget)if(console.log("step",this.isStep),0==this.isStep)if(this.checkArea(t.getLocation(),this.arenaWood)){this.isStep++,this.isMoving=!0;var o=this.arenaWood.position;o=this.arenaWood.parent.convertToWorldSpaceAR(o),o=this.isTarget.parent.convertToNodeSpaceAR(o),this.isTarget.position=o,this.isTarget.getComponent(C).chatGo(this.tree1),cc.audioEngine.play(this.soundChatGo,!1,.8),this.isTarget=null,cc.tween(this.mainCamera).to(.3,{zoomRatio:1.2}).start(),cc.tween(this.mainCamera.node).to(.3,{position:cc.v3(-200,400)}).call(function(){e.pigMove1(o)}).start()}else this.isTarget.position=this.isTarget.getComponent(C).localPos;else if(1==this.isStep){var n=t.getLocation();if(this.checkTree(n,this.arena2)){this.isStep++;var i=this.arena2.position;i=this.arena2.parent.convertToWorldSpaceAR(i),i=this.isTarget.parent.convertToNodeSpaceAR(i),this.isTarget.position=i,this.hand5.active=!1,this.isTarget=null,this.hand4.active=!0,this.pig2.getComponent(a.default).attack(),this.char3.getComponent(C).attack2(this.pig2)}}else 2==this.isStep?(n=t.getLocation(),this.checkTree(n,this.arena3)&&(this.hand5.active=!1,this.isStep++,n=this.isTarget.parent.convertToNodeSpaceAR(n),i=this.arena3.position,i=this.arena3.parent.convertToWorldSpaceAR(i),i=this.isTarget.parent.convertToNodeSpaceAR(i),this.isTarget.position=i,this.hand4.active=!1,this.isTarget=null,this.char2.getComponent(C).attack2(this.pig2))):3==this.isStep?(this.isStep++,n=t.getLocation(),this.checkTree(n,this.tree1)&&(this.hand4.active=!1,this.hand5.active=!1,n=this.isTarget.parent.convertToNodeSpaceAR(n),this.isTarget.position=n,this.showPop2())):this.isStep},e.prototype.pigMove1=function(t){var e=this;t=t.add(cc.v3(100,0)),this.char1.getComponent(C).warning(),this.pig.getComponent(a.default).run(),this.scheduleOnce(function(){e.char1.getComponent(C).angry()},.5),cc.audioEngine.play(this.sounLonKeu,!1,.8),cc.audioEngine.play(this.soundUhh,!1,.8),cc.tween(this.pig).to(1,{position:t}).call(function(){e.pig.getComponent(a.default).attack(),e.scheduleOnce(function(){cc.audioEngine.play(e.soundDapChao,!1,.8)},.3),e.char1.getComponent(C).attack(e.pig)}).start(),this.scheduleOnce(function(){e.char1.getComponent(C).die(),e.pig.getComponent(a.default).idle(),cc.tween(e.mainCamera.node).delay(.2).to(.35,{position:cc.v3(0,20)}).call(function(){e.hand3.active=!0,e.bep.getComponent(cc.Button).enabled=!0}).start()},2.5)},e.prototype.checkTarget=function(t,e){t=e.parent.convertToNodeSpaceAR(t),e.position.sub(t).mag()<=200&&(this.isTarget=e,this.isFollow=!0)},e.prototype.checkArea=function(t,e){return t=e.parent.convertToNodeSpaceAR(t),e.position.sub(t).mag()<=200&&(this.hand.active=!1,!0)},e.prototype.checkTree=function(t,e){return t=e.parent.convertToNodeSpaceAR(t),e.position.sub(t).mag()<=500},e.prototype.update=function(){var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0):(this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1)},e.prototype.createWood=function(t){for(var e=this,o=function(o){var i=cc.instantiate(n.preWood);i.parent=t,i.scale=1.3,i.opacity=0,i.position=cc.v3(0,-50),cc.tween(i).delay(.12*o).set({opacity:255}).by(.3,{position:cc.v3(0,150)}).call(function(){e.isCountWood+=1,e.lbWood.string=e.isCountWood.toString(),i.destroy()}).start()},n=this,i=0;i<4;i++)o(i)},e.prototype.btn_wood=function(){this.hand3.active=!1,cc.audioEngine.play(this.soundNhanGo,!1,.8),this.popup.getComponent(cc.Animation).play("close_popup"),this.transWood1(),this.bep.getComponent(cc.Button).enabled=!1},e.prototype.transWood1=function(){var t=this,e=this.popup.position;e=this.popup.parent.convertToWorldSpaceAR(e),e=this.node.convertToNodeSpaceAR(e);for(var o=cc.v2(e.x-50,(e.y+80+397)/2),n=function(n){var c=cc.instantiate(i.preWood);c.parent=i.node,c.position=cc.v3(544,410),c.scale=1.2,cc.tween(c).delay(.05*n).bezierTo(.5,cc.v2(544,397),o,cc.v2(e.x,e.y+80)).call(function(){t.isCountWood-=1,t.lbWood.string=t.isCountWood.toString(),c.destroy(),5==n&&t.getHappy()}).start()},i=this,c=0;c<6;c++)n(c)},e.prototype.getHappy=function(){var t=this;cc.audioEngine.play(this.soundUpgrade,!1,.8),this.bep.getChildByName("fire").active=!0,this.char3.getComponent(C).setArcher(),this.char2.getComponent(C).setArcher(),this.char2.position=cc.v3(20,-100),this.char3.position=cc.v3(-255,-10),this.smokeEff.active=!0,cc.tween(this.mainCamera).to(.3,{zoomRatio:.7}).call(function(){t.listHouse[3].active=!0,t.listHouse[3].getComponent(cc.Animation).play("house2"),t.pig2.active=!0,cc.audioEngine.play(t.sounLonKeu,!1,.8),t.scheduleOnce(function(){t.hand5.active=!0,t.isMoving=!1},1)}).start()},e.prototype.showPop2=function(){this.popup2.active=!0},e.prototype.btn_upgrade=function(){var t=this;cc.audioEngine.play(this.soundUpgrade,!1,.8),cc.audioEngine.play(this.soundZee,!1,.8),this.char3.getComponent(C).getHappy(),this.char2.getComponent(C).getHappy(),this.popup2.active=!1,this.listHouse[3].active=!0,this.house.active=!1,this.smokeEff.active=!0,this.scheduleOnce(function(){cc.tween(t.mainCamera).to(.4,{zoomRatio:.3}).call(function(){}).start()},.3),this.scheduleOnce(function(){for(var e=0;e<t.listHouse.length;e++){var o=t.listHouse[e];o.active=!0,o.getComponent(cc.Animation).play("house2")}},.8),this.scheduleOnce(function(){t.endCard.active=!0},1.5)},c([l(cc.Camera)],e.prototype,"mainCamera",void 0),c([l(cc.Node)],e.prototype,"char1",void 0),c([l(cc.Node)],e.prototype,"char2",void 0),c([l(cc.Node)],e.prototype,"char3",void 0),c([l(cc.Node)],e.prototype,"pig",void 0),c([l(cc.Node)],e.prototype,"pig2",void 0),c([l(cc.Node)],e.prototype,"arenaWood",void 0),c([l(cc.Node)],e.prototype,"arena2",void 0),c([l(cc.Node)],e.prototype,"arena3",void 0),c([l(cc.Node)],e.prototype,"tree1",void 0),c([l(cc.Node)],e.prototype,"tree2",void 0),c([l(cc.Node)],e.prototype,"tree3",void 0),c([l(cc.Node)],e.prototype,"bulletMain",void 0),c([l(cc.Node)],e.prototype,"hand",void 0),c([l(cc.Node)],e.prototype,"hand2",void 0),c([l(cc.Node)],e.prototype,"hand3",void 0),c([l(cc.Node)],e.prototype,"hand4",void 0),c([l(cc.Node)],e.prototype,"hand5",void 0),c([l(cc.Node)],e.prototype,"popup",void 0),c([l(cc.Prefab)],e.prototype,"preWood",void 0),c([l(cc.Node)],e.prototype,"bep",void 0),c([l(cc.Node)],e.prototype,"popup2",void 0),c([l(cc.Node)],e.prototype,"house",void 0),c([l(cc.Node)],e.prototype,"smokeEff",void 0),c([l(cc.Node)],e.prototype,"listHouse",void 0),c([l(cc.Node)],e.prototype,"endCard",void 0),c([l(cc.Label)],e.prototype,"lbWood",void 0),c([l(cc.AudioClip)],e.prototype,"soundBg",void 0),c([l(cc.AudioClip)],e.prototype,"soundNhanGo",void 0),c([l(cc.AudioClip)],e.prototype,"soundChatGo",void 0),c([l(cc.AudioClip)],e.prototype,"soundGioThoi",void 0),c([l(cc.AudioClip)],e.prototype,"soundUpgrade",void 0),c([l(cc.AudioClip)],e.prototype,"soundRang",void 0),c([l(cc.AudioClip)],e.prototype,"sounLonKeu",void 0),c([l(cc.AudioClip)],e.prototype,"soundDapChao",void 0),c([l(cc.AudioClip)],e.prototype,"soundUhh",void 0),c([l(cc.AudioClip)],e.prototype,"soundZee",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./animal":"animal"}],giaoBullet:[function(t,e,o){"use strict";cc._RF.push(e,"090dcmnetNG3KqP1GXB4VGk","giaoBullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.shoot=function(t,e){this.shootCustom(t,e)},e.prototype.shootCustom=function(t,e){this.node.setPosition(cc.v3(0,90)),this.node.zIndex=e.isFront?4:0;var o=t,n=o.parent.convertToWorldSpaceAR(o.position),i=this.node.parent.convertToNodeSpaceAR(n),c=cc.v2(this.node.position.x,this.node.position.y),a=(i.x-this.node.position.x)/2,r=this.node.parent.x<o.x?1:-1;this.node.angle=this.node.parent.x<o.x?50:130,this.getRotateAngle(t,e),this.node.runAction(cc.sequence(cc.spawn(cc.bezierTo(.6,[c,c.add(cc.v2(a,this.getShootHeight(t,e))),i.add(cc.v3(0,30))]),cc.rotateBy(.6,this.getRotateAngle(t,e)*r)),cc.callFunc(function(){t.isValid,this.node.destroy()}.bind(this))))},e.prototype.getShootHeight=function(t,e){var o=t.position,n=e.node.position,i=Math.abs(Math.abs(o.x)-Math.abs(n.x));return i<30?10:i<50?30:i<100?60:i<150?80:100},e.prototype.getRotateAngle=function(t,e){var o=t.position,n=e.node.position,i=Math.abs(Math.abs(o.x)-Math.abs(n.x));return e.isFront?i<50?140:i<100?130:i<150?120:60:50},e.prototype.getDistance=function(t){return t.sub(this.node.position).mag()},e.prototype.getStartPos=function(t){var e=t.anim.node,o=t.anim2.node,n=cc.v3();return n=e.name==o.name?cc.v3(-4,59):cc.v3(26,64),this.node.position.add(n)},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],hand:[function(t,e,o){"use strict";cc._RF.push(e,"99300lxOWNBqY+OBWviS8K0","hand");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hand=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.click=function(){this.hand.setAnimation(0,"Click",!1)},c([s(sp.Skeleton)],e.prototype,"hand",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],hotdog:[function(t,e,o){"use strict";cc._RF.push(e,"d082fz7BjJI/p/dZqh8GMFZ","hotdog");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePlay=null,e.value=0,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("GameApp")},e.prototype.btn_click=function(){this.gamePlay.clickHotDog(this.value,this.node)},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],listFoood:[function(t,e,o){"use strict";cc._RF.push(e,"b76adN5qOlEzoxAsp8M7drz","listFoood");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){for(var t=0;t<this.node.childrenCount;t++)cc.tween(this.node.children[t]).delay(.1*t).to(.3,{scale:.7}).to(.1,{scale:.6}).start()},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],mainGun:[function(t,e,o){"use strict";cc._RF.push(e,"9d209eMGLBC+a9I6aN/ZHYQ","mainGun");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listBullet=null,e.listBullet2=null,e.listIcon=null,e.mainScene=null,e.soundAkm=null,e.soundPiston=null,e.skeAkm=null,e.skePiston=null,e.noBullet=null,e.soundReload=null,e.hand=null,e.anim=null,e.isCountBullet=0,e.isMaxBullet=0,e.isListB=null,e.soundAtk=null,e.isLoop=!1,e.audioID=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.loadData=function(t){1==t?(this.isMaxBullet=6,this.listIcon.children[0].active=!0,this.listIcon.children[1].active=!1,this.isListB=this.listBullet2,this.listBullet.active=!1,this.soundAtk=this.soundPiston,this.anim=this.skePiston):(this.isMaxBullet=23,this.listIcon.children[1].active=!0,this.listIcon.children[0].active=!1,this.isListB=this.listBullet,this.listBullet2.active=!1,this.soundAtk=this.soundAkm,this.anim=this.skeAkm),this.isCountBullet=this.isMaxBullet,this.isListB.active=!0,this.btn_reLoad()},e.prototype.btn_shot=function(){this.isCountBullet>0?(this.hand.active=!1,this.isCountBullet--,this.audioID=cc.audioEngine.playEffect(this.soundAtk,this.isLoop),this.anim.setAnimation(0,"atk",this.isLoop),this.isListB.children[this.isCountBullet].active=!1):cc.audioEngine.playEffect(this.noBullet,!1)},e.prototype.btn_back=function(){var t=this;this.unscheduleAllCallbacks(),cc.audioEngine.stop(this.audioID),this.node.getComponent(cc.Animation).play("scene_close"),this.mainScene.active=!0,this.scheduleOnce(function(){t.node.active=!1},.3)},e.prototype.btn_reLoad=function(){console.log("reload"),cc.audioEngine.play(this.soundReload,!1,1),this.isCountBullet=this.isMaxBullet;for(var t=0,e=this.isListB.children;t<e.length;t++)e[t].active=!0},c([s(cc.Node)],e.prototype,"listBullet",void 0),c([s(cc.Node)],e.prototype,"listBullet2",void 0),c([s(cc.Node)],e.prototype,"listIcon",void 0),c([s(cc.Node)],e.prototype,"mainScene",void 0),c([s(cc.AudioClip)],e.prototype,"soundAkm",void 0),c([s(cc.AudioClip)],e.prototype,"soundPiston",void 0),c([s(sp.Skeleton)],e.prototype,"skeAkm",void 0),c([s(sp.Skeleton)],e.prototype,"skePiston",void 0),c([s(cc.AudioClip)],e.prototype,"noBullet",void 0),c([s(cc.AudioClip)],e.prototype,"soundReload",void 0),c([s(cc.Node)],e.prototype,"hand",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],mainMusic:[function(t,e,o){"use strict";cc._RF.push(e,"84628WGG69HXJzfyX7OfO89","mainMusic");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listicon=null,e.loopbtn=null,e.playBtn=null,e.soundDog=null,e.soundAirHorn=null,e.soundPhoto=null,e.soundMeme=null,e.soundOn=null,e.soundOff=null,e.nametxt=null,e.hand=null,e.isLoop=!1,e.isPlay=!1,e.isValue=null,e.isTargetIcon=null,e.isVolum=1,e.isICON=null,e.audioID=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.loadData=function(t){this.isValue=t,this.isTargetIcon&&(this.isTargetIcon.active=!1),this.listicon.children[t-1].active=!0,this.isICON=this.listicon.children[t-1],this.isTargetIcon=this.listicon.children[t-1],this.nametxt.string=["Hair Clipper","Air Horn","Meme","Dog"][t-1]},e.prototype.btn_Play=function(){var t=this;if(this.hand.active=!1,this.isPlay)this.isPlay=!1,this.playBtn.spriteFrame=this.soundOff,cc.audioEngine.stop(this.audioID),this.isICON.children[0]&&(this.isICON.children[0].active=!1);else{this.isPlay=!0,this.playBtn.spriteFrame=this.soundOn;var e=null;switch(this.isValue){case 1:e=this.soundPhoto,this.isICON.children[0].active=!0;break;case 2:e=this.soundAirHorn,this.isICON.children[0].active=!0;break;case 3:e=this.soundMeme;break;case 4:e=this.soundDog}this.audioID=cc.audioEngine.play(e,this.isLoop,this.isVolum),cc.audioEngine.setFinishCallback(this.audioID,function(){cc.log("Ph\xe1t nh\u1ea1c xong r\u1ed3i!"),t.isPlay=!1,t.playBtn.spriteFrame=t.soundOff})}},e.prototype.btnLoop=function(){this.isLoop=1!=this.isLoop,this.loopbtn.children[0].position=this.isLoop?cc.v3(36,0):cc.v3(-19,0),this.loopbtn.children[0].color=this.isLoop?cc.color().fromHEX("#FF3927"):cc.color().fromHEX("#FFFFFF")},e.prototype.btn_back=function(){var t=this;this.isICON.children[0]&&(this.isICON.children[0].active=!1),cc.audioEngine.stop(this.audioID),this.isPlay=!1,this.playBtn.spriteFrame=this.soundOff,this.node.getComponent(cc.Animation).play("scene_close"),this.scheduleOnce(function(){t.node.active=!1},.3)},e.prototype.setVolume=function(t){this.isVolum=t,null!=this.audioID&&cc.audioEngine.setVolume(this.audioID,t)},c([s(cc.Node)],e.prototype,"listicon",void 0),c([s(cc.Node)],e.prototype,"loopbtn",void 0),c([s(cc.Sprite)],e.prototype,"playBtn",void 0),c([s(cc.AudioClip)],e.prototype,"soundDog",void 0),c([s(cc.AudioClip)],e.prototype,"soundAirHorn",void 0),c([s(cc.AudioClip)],e.prototype,"soundPhoto",void 0),c([s(cc.AudioClip)],e.prototype,"soundMeme",void 0),c([s(cc.SpriteFrame)],e.prototype,"soundOn",void 0),c([s(cc.SpriteFrame)],e.prototype,"soundOff",void 0),c([s(cc.Label)],e.prototype,"nametxt",void 0),c([s(cc.Node)],e.prototype,"hand",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],popFarm:[function(t,e,o){"use strict";cc._RF.push(e,"5a250io4rZFeYjzuRNosvUJ","popFarm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.current=40,e.fill=null,e.lbFill=null,e.isFill=0,e.isSuccess=!1,e.gamePlay=null,e.isAnim=!1,e}return i(e,t),e.prototype.start=function(){this.isFill=this.current,this.gamePlay=cc.Canvas.instance.node.getComponent("Game28")},e.prototype.updateFill=function(){var t=this;this.isSuccess||(this.isFill--,this.node.getComponent(cc.Animation).play("pop_hit"),0==this.isFill&&(this.isSuccess=!0,this.gamePlay.updateHouse()),this.lbFill.string="x"+this.isFill.toString(),cc.tween(this.fill).to(.2,{fillRange:(this.current-this.isFill)/this.current}).call(function(){0!=t.isFill||1!=t.isSuccess||t.isAnim||(t.isAnim=!0,t.node.getComponent(cc.Animation).play("pop_close"))}).start())},c([s(cc.Integer)],e.prototype,"current",void 0),c([s(cc.Sprite)],e.prototype,"fill",void 0),c([s(cc.Label)],e.prototype,"lbFill",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],pop:[function(t,e,o){"use strict";cc._RF.push(e,"cd53dbZ5DlAupoZYNcUkYTd","pop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.finishShow=function(){this.node.getComponent(cc.Animation).play("pop_zigzac")},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],preBread:[function(t,e,o){"use strict";cc._RF.push(e,"26acd868GNIVoeYWTLYaLdB","preBread");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePlay=null,e.isHotDog=!1,e.isTuongCa=!1,e.anim=null,e.value=0,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("GameApp")},e.prototype.getHotDog=function(){this.isHotDog=!0,this.anim.setAnimation(0,"B3-T1",!1)},e.prototype.getTuongCa=function(){this.isTuongCa=!0,this.anim.setAnimation(0,"B3-T2",!1)},e.prototype.sell=function(){this.gamePlay.sellBread(this.value)},c([s(sp.Skeleton)],e.prototype,"anim",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],rangeListener:[function(t,e,o){"use strict";cc._RF.push(e,"6d575F5AdFBp79tQ3agM8NB","rangeListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.className=null,e.gamePlay=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){this.className=this.__classname__,this.gamePlay=cc.Canvas.instance.node.getComponent("ICY_19")},e.prototype.onCollisionEnter=function(t){0==this.target.getComponent("character").isSub&&("arenaSell1"==t.node.name&&(this.gamePlay.countMoneyBag>0?this.gamePlay.getSell():(this.gamePlay.char.getChildByName("textUd").getComponent(cc.Animation).play(),this.gamePlay.listArrow.children[3].active=!0,this.gamePlay.arrowNode.active=!1)),"arenaSell3"==t.node.name&&(this.gamePlay.countMoneyBag>0?this.gamePlay.getSell3(3):(this.gamePlay.char.getChildByName("textUd").getComponent(cc.Animation).play(),this.gamePlay.listArrow.children[3].active=!0,this.gamePlay.arrowNode.active=!1)),"arenaSell4"==t.node.name?this.gamePlay.countMoneyBag>0?this.gamePlay.getSell3(4):(this.gamePlay.char.getChildByName("textUd").getComponent(cc.Animation).play(),this.gamePlay.listArrow.children[3].active=!0,this.gamePlay.arrowNode.active=!1):"sellToCus"==t.node.name?(t.node.parent.children[1].color=cc.Color.GREEN,this.gamePlay.sellToCus2(),this.target.getComponent("character").isSellding=!0):"ke"==t.node.name&&this.gamePlay.addWoodFromKe())},e.prototype.onCollisionStay=function(t){"ke"==t.node.name&&0==this.gamePlay.isTranske&&this.gamePlay.offWoodFromKe()},e.prototype.onCollisionExit=function(t){0==this.target.getComponent("character").isSub&&("sellToCus"==t.node.name&&(this.target.getComponent("character").isSellding=!1,t.node.parent.children[1].color=cc.Color.WHITE),"ke"==t.node.name&&this.gamePlay.offWoodFromKe(),"sellToCus"==t.node.name&&this.gamePlay.offSell(),"arenaSell1"==t.node.name&&this.gamePlay.offSellMone(),"arenaSell3"==t.node.name&&this.gamePlay.offSellMone3(3),"arenaSell4"==t.node.name&&this.gamePlay.offSellMone3(4))},c([s(cc.Node)],e.prototype,"target",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],stick:[function(t,e,o){"use strict";cc._RF.push(e,"187aarZd8NJ5J7SptRvYPw5","stick");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preCorn=null,e.preTomato=null,e.preCarrot=null,e.houseCarrrot=null,e.houseTomato=null,e.houseCorn=null,e.soundGet=null,e.soundHit=null,e.hand=null,e.camera=null,e.camera2=null,e.gamePlay=null,e.isDelaySOund=!1,e.isDelaySound2=!1,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.getComponent("Game28"),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onTouchMove=function(t){this.hand.active=!1,this.node.getComponent(cc.BoxCollider).enabled=!0;var e=t.getLocation(),o=cc.v3(0,0);1==this.camera.active?(o=this.camera.getComponent(cc.Camera).getScreenToWorldPoint(e),e=e.add(cc.v2(this.camera.position.x,this.camera.position.y+80))):(o=this.camera2.getComponent(cc.Camera).getScreenToWorldPoint(e),e=e.add(cc.v2(this.camera2.position.x,this.camera2.position.y+80)));var n=this.node.parent.convertToNodeSpaceAR(o);this.node.setPosition(n)},e.prototype.onTouchEnd=function(){},e.prototype.onCollisionEnter=function(t){"first"==t.node.children[0].name&&t.node.children[1].active&&(t.node.getComponent(cc.PolygonCollider).enabled=!1,this.cut(t.node))},e.prototype.onCollisionStay=function(){},e.prototype.cut=function(t){t.children[0].active=!0,t.children[1].active=!1;var e=t.parent.convertToWorldSpaceAR(t.position);switch(e=this.node.parent.convertToNodeSpaceAR(e),this.gamePlay.step){case 1:var o=this.houseCarrrot.getChildByName("pop");this.spawItem(this.preCarrot,o,e);break;case 2:var n=this.houseTomato.getChildByName("pop");this.spawItem(this.preTomato,n,e);break;case 3:var i=this.houseCorn.getChildByName("pop");this.spawItem(this.preCorn,i,e)}},e.prototype.spawItem=function(t,e,o){var n=this,i=cc.instantiate(t);i.parent=this.node.parent,i.position=o,this.isDelaySOund||(this.isDelaySOund=!0,cc.audioEngine.play(this.soundGet,!1,1),this.scheduleOnce(function(){n.isDelaySOund=!1},.04));var c=e.parent.convertToWorldSpaceAR(e.position);c=this.node.parent.convertToNodeSpaceAR(c);var a=cc.v2((o.x+c.x)/2,(o.y+c.y)/2+300);cc.tween(i).bezierTo(.8,cc.v2(o.x,o.y),a,cc.v2(c.x,c.y+100)).call(function(){i.children[0].active=!1,i.children[1].active=!0,e.getComponent("popFarm").updateFill(),n.isDelaySound2||(cc.audioEngine.play(n.soundHit,!1,1),n.isDelaySound2=!0,n.scheduleOnce(function(){n.isDelaySound2=!1},.06))}).start()},c([s(cc.Prefab)],e.prototype,"preCorn",void 0),c([s(cc.Prefab)],e.prototype,"preTomato",void 0),c([s(cc.Prefab)],e.prototype,"preCarrot",void 0),c([s(cc.Node)],e.prototype,"houseCarrrot",void 0),c([s(cc.Node)],e.prototype,"houseTomato",void 0),c([s(cc.Node)],e.prototype,"houseCorn",void 0),c([s(cc.AudioClip)],e.prototype,"soundGet",void 0),c([s(cc.AudioClip)],e.prototype,"soundHit",void 0),c([s(cc.Node)],e.prototype,"hand",void 0),c([s(cc.Node)],e.prototype,"camera",void 0),c([s(cc.Node)],e.prototype,"camera2",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],touch:[function(t,e,o){"use strict";cc._RF.push(e,"19a89qxxVFEz77qCUv/VcKy","touch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preTouch=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.touchStartEvent=function(t){this.createEffTouch(t.getLocation())},e.prototype.createEffTouch=function(t){t=this.node.convertToNodeSpaceAR(t);var e=cc.instantiate(this.preTouch);e.parent=this.node,e.position=t},c([s(cc.Prefab)],e.prototype,"preTouch",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],transer:[function(t,e,o){"use strict";cc._RF.push(e,"6b905o1gD5LX64qqugnDXV+","transer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.bag=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.move1=function(){var t=this;this.node.scaleX=-1,this.anim.setAnimation(0,"Walk",!1),cc.tween(this.node).to(.8,{position:cc.v3(-9,-219)}).call(function(){t.transWood(),t.anim.setAnimation(0,"Idle",!1)}).start()},e.prototype.transWood=function(){for(var t=this,e=cc.Canvas.instance.node.getComponent("YC_7"),o=e.arrCus[e.arrCus.length-1],n=0,i=function(t){var e=c.bag.children[t],i=e.position;i=c.bag.convertToWorldSpaceAR(i),i=o.convertToNodeSpaceAR(i),e.parent=o,e.position=i,n++,cc.tween(e).delay(.05*n).bezierTo(.3,cc.v2(i.x,i.y),cc.v2(i.x/2,i.y+200),cc.v2(0,50)).call(function(){e.destroy()}).start()},c=this,a=this.bag.childrenCount-1;a>=0;a--)i(a);this.scheduleOnce(function(){t.move2(),e.moveBack()},.5)},e.prototype.move2=function(){var t=this;this.node.scaleX=1,this.anim.setAnimation(0,"Walk",!1),cc.tween(this.node).to(.8,{position:cc.v3(-127.8,-102)}).call(function(){t.anim.setAnimation(0,"Idle",!1),cc.Canvas.instance.node.getComponent("YC_7").isMoveChar=!1}).start()},c([s(sp.Skeleton)],e.prototype,"anim",void 0),c([s(cc.Node)],e.prototype,"bag",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],treeListener:[function(t,e,o){"use strict";cc._RF.push(e,"4a13c7hUIJKuKG6vJGO6A2J","treeListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCut=2,e.gamePlay=null,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.getComponent("ICY_19")},e.prototype.cut=function(){this.isCut--,this.isCut<=0&&globalThis.countWood<=30&&(this.gamePlay.addTree(this.node.position,this.node.index),this.node.destroy())},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],tree:[function(t,e,o){"use strict";cc._RF.push(e,"603a1PKavBBhboXQnDIot7z","tree");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.cut=function(){this.node.getChildByName("icon").getComponent(cc.Animation).play("chat_cay")},e.prototype.setIce=function(){this.node.getChildByName("ice").active=!0},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],udBar:[function(t,e,o){"use strict";cc._RF.push(e,"b78a6nC5lJCcKylMCO4SP1j","udBar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgBua=null,e.imgBua2=null,e.imgMoney=null,e.isud=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.ud1=function(){0==this.isud?(this.node.getChildByName("Axe2").getComponent(cc.Sprite).spriteFrame=this.imgBua,this.node.getChildByName("200").getComponent(cc.Sprite).spriteFrame=this.imgMoney,this.isud++):1==this.isud&&(this.node.getChildByName("Axe2").getComponent(cc.Sprite).spriteFrame=this.imgBua2)},c([s(cc.SpriteFrame)],e.prototype,"imgBua",void 0),c([s(cc.SpriteFrame)],e.prototype,"imgBua2",void 0),c([s(cc.SpriteFrame)],e.prototype,"imgMoney",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],volum:[function(t,e,o){"use strict";cc._RF.push(e,"c158f06hpVLgqIahEbCyyRx","volum");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.handle=null,e.musicScene=null,e.maxWidth=200,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onDrag,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onDrag,this)},e.prototype.onDrag=function(t){var e=this.progressBar.node.convertToNodeSpaceAR(t.getLocation()),o=cc.misc.clampf(e.x/this.maxWidth+.5,0,1);this.progressBar.progress=o,this.updateHandlePos(),this.setVolume(o)},e.prototype.updateHandlePos=function(){var t=this.maxWidth*(this.progressBar.progress-.5);this.handle.x=t},e.prototype.setVolume=function(t){this.musicScene.getComponent("mainMusic").setVolume(t)},c([s(cc.ProgressBar)],e.prototype,"progressBar",void 0),c([s(cc.Node)],e.prototype,"handle",void 0),c([s(cc.Node)],e.prototype,"musicScene",void 0),c([s(cc.Integer)],e.prototype,"maxWidth",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["GamePLay","GamePlay2","touch","cusMission","hotdog","preBread","GameApp","mainGun","mainMusic","volum","Game28","cus","Player","ICY_19","YC_11","YC_2","YC_4","YC_5","YC_6","YC_7","anim","animal","arena","barPeople","bep","car","bar","card","cardList","charScene3","AdManager","JoyStick","game","giaoBullet","hand","listFoood","charListener","rangeListener","treeListener","pop","popFarm","stick","transer","tree","udBar"]);