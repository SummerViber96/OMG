{"version":3,"sources":["assets\\scripts\\arena.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Integer)\r\n    currentTarget = 200;\r\n    @property(cc.Sprite)\r\n    fillBar: cc.Sprite = null\r\n    isSucess = false;\r\n    count = 0;\r\n    gamePlay = null\r\n    start() {\r\n        this.gamePlay = cc.Canvas.instance.node.getComponent(\"ICY_19\")\r\n    }\r\n    upgrade(value) {\r\n        if (!this.isSucess) {\r\n            this.count += value\r\n            let fill = this.count / this.currentTarget\r\n            cc.tween(this.fillBar).to(0.5, { fillRange: fill }).call(() => {\r\n                if (this.fillBar.fillRange >= 1) {\r\n                    this.isSucess = true;\r\n                    if (this.node.name == \"arena1\") {\r\n                        this.gamePlay.updateOpen1()\r\n                    }\r\n                    // else {\r\n                    //     this.gamePlay.updateOpen2()\r\n                    // }\r\n                    if (this.node.name == \"arena3\") {\r\n                        cc.tween(this.node).to(0.3, { scale: 0 }).call(() => {\r\n\r\n                            this.node.active = false\r\n\r\n                        }).start()\r\n                        this.gamePlay.farm3.active = true\r\n                        this.gamePlay.listArrow.children[5].active = false\r\n                        this.gamePlay.listArrow.children[6].active = true\r\n                        this.gamePlay.isTargetDraw = this.gamePlay.listArrow.children[6]\r\n                        \r\n                        // this.scheduleOnce(() => {\r\n                        //     console.log(\"on arrow 6\")\r\n                        //     this.gamePlay.listArrow.children[6].active = true\r\n\r\n                        // }, 0.5)\r\n\r\n                    }\r\n                    else if (this.node.name == \"arena4\") {\r\n                        cc.tween(this.node).to(0.3, { scale: 0 }).call(() => {\r\n\r\n                            this.node.active = false\r\n\r\n                        }).start()\r\n                        this.gamePlay.farm4.active = true\r\n                        this.gamePlay.listArrow.children[6].active = false\r\n                        // this.scheduleOnce(() => {\r\n                        this.gamePlay.onEndGame()\r\n\r\n                        // }, 1)\r\n\r\n                    }\r\n                    console.log(\"uopdate\")\r\n                }\r\n            }).start()\r\n\r\n        }\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}