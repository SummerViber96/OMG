{"version":3,"sources":["assets\\scripts\\APP\\GameApp.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n    @property(cc.Node)\r\n    sceneMusic: cc.Node = null;\r\n    @property(cc.Node)\r\n    sceneGun: cc.Node = null;\r\n    @property(cc.Node)\r\n    sceneMain: cc.Node = null;\r\n    @property(cc.AudioClip)\r\n    soundBg: cc.AudioClip = null\r\n    @property(cc.Node)\r\n    tut: cc.Node = null\r\n    @property(cc.Node)\r\n    hand: cc.Node = null\r\n    @property(cc.Node)\r\n    endCard: cc.Node = null;\r\n    @property(cc.Node)\r\n    linkToStore: cc.Node = null;\r\n    @property(cc.Camera)\r\n    camera: cc.Camera = null\r\n    adChanel = '{{__adv_channels_adapter__}}'\r\n\r\n    start() {\r\n        if (this.adChanel == 'Mintegral') {\r\n            window.gameReady && window.gameReady();\r\n        }\r\n    }\r\n    startGame() {\r\n        cc.tween(this.tut).to(0.3, { opacity: 0 }).call(() => {\r\n            this.tut.active = false;\r\n            this.hand.active = true\r\n        }).start()\r\n        this.scheduleOnce(() => {\r\n            this.onEndGame();\r\n        }, 20)\r\n    }\r\n    onEndGame() {\r\n        this.endCard.active = true;\r\n        this.linkToStore.active = true\r\n    }\r\n    btn_choose(event, value) {\r\n        console.log(value)\r\n        switch (value) {\r\n            case \"0\":\r\n                this.hand.active = false\r\n\r\n                this.sceneMusic.position = cc.v3(3000, 0)\r\n                this.sceneMusic.active = true\r\n                // this.sceneMusic.active = true\r\n                this.sceneMusic.getComponent(\"mainMusic\").loadData(1)\r\n                this.sceneMusic.getComponent(cc.Animation).play()\r\n                // this.hand.active = true\r\n                break;\r\n            case \"1\":\r\n                this.sceneMusic.position = cc.v3(3000, 0)\r\n                this.sceneMusic.active = true\r\n\r\n                this.sceneMusic.getComponent(\"mainMusic\").loadData(2)\r\n                this.sceneMusic.getComponent(cc.Animation).play()\r\n                break;\r\n            case \"2\":\r\n                this.sceneGun.position = cc.v3(3000, 0)\r\n                this.sceneGun.active = true\r\n                this.sceneGun.getComponent(\"mainGun\").loadData(1)\r\n                this.sceneGun.getComponent(cc.Animation).play()\r\n                this.sceneMain.active = false\r\n                break;\r\n            case \"3\":\r\n                this.sceneMusic.position = cc.v3(3000, 0)\r\n                this.sceneMusic.active = true\r\n\r\n                this.sceneMusic.getComponent(\"mainMusic\").loadData(3)\r\n                this.sceneMusic.getComponent(cc.Animation).play()\r\n                break;\r\n            case \"4\":\r\n                this.sceneMusic.position = cc.v3(3000, 0)\r\n                this.sceneMusic.active = true\r\n\r\n                this.sceneMusic.getComponent(\"mainMusic\").loadData(4)\r\n                this.sceneMusic.getComponent(cc.Animation).play()\r\n                break;\r\n            case \"5\":\r\n                this.sceneGun.position = cc.v3(3000, 0)\r\n                this.sceneGun.active = true\r\n                this.sceneGun.getComponent(\"mainGun\").loadData(2)\r\n                this.sceneGun.getComponent(cc.Animation).play()\r\n                this.sceneMain.active = false\r\n\r\n                break;\r\n        }\r\n    }\r\n    update(dt) {\r\n        let deviceResolution = cc.view.getFrameSize();\r\n        if (deviceResolution.width < deviceResolution.height) {\r\n            this.reponsive(true);\r\n        }\r\n        else {\r\n            this.reponsive(false);\r\n        }\r\n    }\r\n    reponsive(logic) {\r\n        let canvas = this.node.getComponent(cc.Canvas);\r\n        this.camera.zoomRatio = 1\r\n        canvas.fitHeight = (logic) ? false : true\r\n        canvas.fitWidth = (logic) ? true : false\r\n        if (logic == true) {\r\n            const frameSize = cc.view.getFrameSize();\r\n            const width = frameSize.width;\r\n            const height = frameSize.height;\r\n\r\n            // Vì có thể nằm ngang hoặc dọc, kiểm tra cả hai chiều\r\n            const aspectRatio = Math.max(width, height) / Math.min(width, height);\r\n\r\n            // Gần đúng tỷ lệ màn hình iPhone X\r\n            const IPHONE_X_ASPECT_RATIO = 812 / 375; // ≈ 2.16\r\n            const TOLERANCE = 0.05;\r\n            const IPAD_RATIO = 1024 / 768;          // ≈ 1.33\r\n\r\n            if (Math.abs(aspectRatio - IPHONE_X_ASPECT_RATIO) < TOLERANCE) {\r\n                console.log(\"check iphonex\")\r\n\r\n            }\r\n            else if (Math.abs(aspectRatio - IPAD_RATIO) < TOLERANCE) {\r\n        this.camera.zoomRatio = 0.7\r\n\r\n\r\n            }\r\n        }\r\n        else {\r\n            const frameSize = cc.view.getFrameSize();\r\n            const width = frameSize.width;\r\n            const height = frameSize.height;\r\n\r\n            // Vì có thể nằm ngang hoặc dọc, kiểm tra cả hai chiều\r\n            const aspectRatio = Math.max(width, height) / Math.min(width, height);\r\n\r\n            // Gần đúng tỷ lệ màn hình iPhone X\r\n            const IPHONE_X_ASPECT_RATIO = 812 / 375; // ≈ 2.16\r\n            const TOLERANCE = 0.05;\r\n            const IPAD_RATIO = 1024 / 768;          // ≈ 1.33\r\n\r\n            if (Math.abs(aspectRatio - IPHONE_X_ASPECT_RATIO) < TOLERANCE) {\r\n\r\n            }\r\n            else if (Math.abs(aspectRatio - IPAD_RATIO) < TOLERANCE) {\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n"]}