{"version":3,"sources":["assets\\scripts\\APP\\volum.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;QAAA,qEAqCC;QAnCG,iBAAW,GAAmB,IAAI,CAAC;QAEnC,YAAM,GAAY,IAAI,CAAC;QAEvB,gBAAU,GAAY,IAAI,CAAA;QAC1B,4BAA4B;QAC5B,uCAAuC;QAEvC,cAAQ,GAAG,GAAG,CAAC;;IA2BnB,CAAC;IA1BG,yBAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC9D,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACnE,CAAC;IAED,yBAAM,GAAN,UAAO,KAAK;QACR,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;QAC1E,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC9B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC;IAED,kCAAe,GAAf;QACI,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC;QAC9D,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,4BAAS,GAAT,UAAU,KAAK;QACX,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;QAC1D,6BAA6B;QAC7B,0BAA0B;QAC1B,uCAAuC;QACvC,IAAI;IACR,CAAC;IAjCD;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;iDACU;IAEnC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACK;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACQ;IAI1B;QADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;8CACN;IAVE,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAqC5B;IAAD,eAAC;CArCD,AAqCC,CArCqC,EAAE,CAAC,SAAS,GAqCjD;kBArCoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n    @property(cc.ProgressBar)\r\n    progressBar: cc.ProgressBar = null;\r\n    @property(cc.Node)\r\n    handle: cc.Node = null;\r\n    @property(cc.Node)\r\n    musicScene: cc.Node = null\r\n    // @property(cc.AudioSource)\r\n    // audioSources: cc.AudioSource = null;\r\n    @property(cc.Integer)\r\n    maxWidth = 200;\r\n    onLoad() {\r\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onDrag, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onDrag, this);\r\n    }\r\n\r\n    onDrag(event) {\r\n        let pos = this.progressBar.node.convertToNodeSpaceAR(event.getLocation());\r\n        let x = cc.misc.clampf(pos.x / this.maxWidth + 0.5, 0, 1);\r\n        this.progressBar.progress = x;\r\n        this.updateHandlePos();\r\n        this.setVolume(x);\r\n    }\r\n\r\n    updateHandlePos() {\r\n        let width = this.maxWidth * (this.progressBar.progress - 0.5);\r\n        this.handle.x = width;\r\n    }\r\n\r\n    setVolume(value) {\r\n        this.musicScene.getComponent(\"mainMusic\").setVolume(value)\r\n        // cc.audioEngine.setVolume()\r\n        // if (this.audioSource) {\r\n        //     this.audioSource.volume = value;\r\n        // }\r\n    }\r\n\r\n}"]}